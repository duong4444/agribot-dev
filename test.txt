1. "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh" -> "B∆∞·ªüi Da Xanh - 4.2. B√≥n ph√¢n sau thu ho·∫°ch (Ph·ª•c h·ªìi c√¢y) Ch·ªß ƒë·ªÅ: 4. C√°ch b√≥n ph√¢n

Ngay sau khi h√°i qu·∫£, k·∫øt h·ª£p v·ªõi vi·ªác t·ªâa c√†nh, b√≥n 15-20kg ph√¢n h·ªØu c∆° + 1-2kg NPK (v√≠ d·ª•: 20-20-15 ho·∫∑c 16-16-8) cho m·ªói g·ªëc ƒë·ªÉ c√¢y ph·ª•c h·ªìi s·ª©c, chu·∫©n b·ªã cho m√πa v·ª• ti·∫øp theo. B√≥n b·∫±ng c√°ch x·ªõi r√£nh n√¥ng theo h√¨nh chi·∫øu t√°n l√°, r·∫£i ph√¢n, l·∫•p ƒë·∫•t v√† t∆∞·ªõi ƒë·∫´m."
log: 
api:dev: user_prompt:  c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh
api:dev: direct ƒë·∫øn Orchest ƒë·ªÉ x·ª≠ l√Ω
api:dev: [Nest] 20260  - 12/14/2025, 10:34:58 PM     LOG [AIOrchestrator] Processing query: "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh" for user b5a0dfd6-579c-4a90-833d-f4145e03c292
api:dev: STEP1 trong orchest==========INTENT CLASSIFIER & NER ==================
api:dev: user_query || prompt:  c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh
api:dev: normalize_prompt_text:  c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh
api:dev: post ƒë·∫øn 8000/analyze..........................................
api:dev: INTENT tr·∫£ v·ªÅ t·ª´ 8000/analyze:  knowledge_query
api:dev: entities tr·∫£ v·ªÅ t·ª´ 8000/analyze:  [
api:dev:   {
api:dev:     type: 'crop_name',
api:dev:     value: 'b∆∞·ªüi da xanh',
web:dev:  POST /api/chat/messages 200 in 3699ms
api:dev:     raw: 'b∆∞·ªüi da xanh',
api:dev:     confidence: 0.85,
api:dev:     start: 27,
api:dev:     end: 39
api:dev:   }
api:dev: ]
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [PythonAIClientService] Python AI Analysis: Intent=knowledge_query, Entities=1, Time=2074ms
api:dev: pythonResult:  knowledge_query
api:dev: pythonResult_entities_!!!!!!!!!!!!!:  [
api:dev:   {
api:dev:     type: 'crop_name',
api:dev:     value: 'b∆∞·ªüi da xanh',
api:dev:     raw: 'b∆∞·ªüi da xanh',
api:dev:     confidence: 0.85,
api:dev:     start: 27,
api:dev:     end: 39
api:dev:   }
api:dev: ]
api:dev: !!!D√ôNG PYTHON CHO INENT CLASSIFIER!!!
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [IntentClassifierService] Using Python AI Service (PhoBERT) classification
api:dev: intent_convertToIntentType_aka_intent_tr·∫£_v·ªÅ_step1_orchest:  knowledge_query
api:dev: entities_convertToEntity_aka_entities_tr·∫£_v·ªÅ_step1_orchest:  [
api:dev:   {
api:dev:     type: 'crop_name',
api:dev:     value: 'b∆∞·ªüi da xanh',
api:dev:     raw: 'b∆∞·ªüi da xanh',
api:dev:     confidence: 0.85,
api:dev:     position: { start: 27, end: 39 }
api:dev:   }
api:dev: ]
api:dev: !!!!intent_result_ai_orchestrator!!!!:  {
api:dev:   intent: 'knowledge_query',
api:dev:   confidence: 0.9995632767677307,
api:dev:   entities: [
api:dev:     {
api:dev:       type: 'crop_name',
api:dev:       value: 'b∆∞·ªüi da xanh',
api:dev:       raw: 'b∆∞·ªüi da xanh',
api:dev:       confidence: 0.85,
api:dev:       position: [Object]
api:dev:     }
api:dev:   ],
api:dev:   originalQuery: 'c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh',
api:dev:   normalizedQuery: 'c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh'
api:dev: }
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [AIOrchestrator] Intent: knowledge_query, Confidence: 1.00, Entities: 1
api:dev: user plan:  PREMIUM
api:dev: user status:  ACTIVE
api:dev: isPremiumActive:  true
api:dev: ACCESS CHECK trong orchest:  { allowed: true }
api:dev: STEP2 trong orchest=============== UNKNOWN || CHECK <ACTION || KNOWLEDGE>=============
api:dev: intent_category_|->ACTION || KNOWLEDGE<-|_ai_orchestrator:  knowledge
api:dev: ======================KNOWLEDGE_CATEGORY=======================
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [AIOrchestrator] Attempting Layer 1: Exact Match
api:dev: .............................TRY LAYER1_FTS..................................................
api:dev: ch·∫°y v√†o findExactMatch c·ªßa exact-match-v2.service do orchestrator g·ªçi
api:dev: words:  [
api:dev:   'c√°ch',  'tr·ªã',
api:dev:   'b·ªánh',  'ph·∫•n',
api:dev:   'tr·∫Øng', '·ªü',
api:dev:   'b∆∞·ªüi',  'da',
api:dev:   'xanh'
api:dev: ]
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [QueryPreprocessorService] Query cleaned: "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh" ‚Üí "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh"
api:dev: keywords:  [
api:dev:   'c√°ch',  'tr·ªã',
api:dev:   'b·ªánh',  'ph·∫•n',
api:dev:   'tr·∫Øng', 'b∆∞·ªüi',
api:dev:   'xanh'
api:dev: ]
api:dev: noiseWordCoint:  2
api:dev: hasNoiseWords:  true
api:dev: recommedProcessing:  true
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [QueryPreprocessorService] Query cleaned: "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh" ‚Üí "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh"
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [QueryPreprocessorService] Query cleaned: "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh" ‚Üí "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh"
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [ExactMatchV2Service] !!!! Query preprocessed:
api:dev:   Original: "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh"
api:dev:   Cleaned: "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh"
api:dev:   Keywords: [c√°ch, tr·ªã, b·ªánh, ph·∫•n, tr·∫Øng, b∆∞·ªüi, xanh]
api:dev:   Noise words removed: 2
api:dev: option.useFuzzyFallback:  undefined
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [ExactMatchV2Service] Detected crop filter from NER: "b∆∞·ªüi da xanh"
api:dev: Trying Crop Knowledge FTS...
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] Searching for: "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh"
api:dev: -------------------SEARCH B·∫∞NG HEADING-----------------------
web:dev:  GET /api/auth/session 200 in 1279ms
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üîç Heading search - Query: "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh" ‚Üí Normalized: "c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh"
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üìù Query words (>2 chars): [c√°ch, tr·ªã, b·ªánh, ph·∫•n, tr·∫Øng, b∆∞·ªüi, xanh]
api:dev: ALLCHUNKS L√Ä C√ÅC ROW TRONG crop_knowledge_chunks m√† c√≥ loai_cay = |crop_name - NER|
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üìö Found 22 total chunks to analyze
api:dev: topicKey:  B∆∞·ªüi Da Xanh::1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh" ‚Üí normalized: "1. th√¥ng tin chung v·ªÅ b∆∞·ªüi da xanh" ‚Üí words: [th√¥ng, tin, chung, b∆∞·ªüi, xanh]
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üìä Topic: "1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh" | Score: 40% | Matched: [b∆∞·ªüi, xanh] / [th√¥ng, tin, chung, b∆∞·ªüi, xanh]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::2. C√°ch tr·ªìng
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "2. C√°ch tr·ªìng" ‚Üí normalized: "2. c√°ch tr·ªìng" ‚Üí words: [c√°ch, tr·ªìng]
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üìä Topic: "2. C√°ch tr·ªìng" | Score: 50% | Matched: [c√°ch] / [c√°ch, tr·ªìng]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::2. C√°ch tr·ªìng
api:dev: topicKey:  B∆∞·ªüi Da Xanh::2. C√°ch tr·ªìng
api:dev: topicKey:  B∆∞·ªüi Da Xanh::2. C√°ch tr·ªìng
api:dev: topicKey:  B∆∞·ªüi Da Xanh::3. C√°ch chƒÉm s√≥c
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "3. C√°ch chƒÉm s√≥c" ‚Üí normalized: "3. c√°ch chƒÉm s√≥c" ‚Üí words: [c√°ch, chƒÉm, s√≥c]
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üìä Topic: "3. C√°ch chƒÉm s√≥c" | Score: 33% | Matched: [c√°ch] / [c√°ch, chƒÉm, s√≥c]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::3. C√°ch chƒÉm s√≥c
api:dev: topicKey:  B∆∞·ªüi Da Xanh::3. C√°ch chƒÉm s√≥c
api:dev: topicKey:  B∆∞·ªüi Da Xanh::4. C√°ch b√≥n ph√¢n
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "4. C√°ch b√≥n ph√¢n" ‚Üí normalized: "4. c√°ch b√≥n ph√¢n" ‚Üí words: [c√°ch, b√≥n, ph√¢n]
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üìä Topic: "4. C√°ch b√≥n ph√¢n" | Score: 33% | Matched: [c√°ch] / [c√°ch, b√≥n, ph√¢n]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::4. C√°ch b√≥n ph√¢n
api:dev: topicKey:  B∆∞·ªüi Da Xanh::4. C√°ch b√≥n ph√¢n
api:dev: topicKey:  B∆∞·ªüi Da Xanh::4. C√°ch b√≥n ph√¢n
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh" ‚Üí normalized: "5. c√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh" ‚Üí words: [c√°ch, ph√≤ng, tr·ª´, s√¢u, h·∫°i, ch√≠nh]
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üìä Topic: "5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh" | Score: 17% | Matched: [c√°ch] / [c√°ch, ph√≤ng, tr·ª´, s√¢u, h·∫°i, ch√≠nh]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::6. Thu ho·∫°ch v√† B·∫£o qu·∫£n
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "6. Thu ho·∫°ch v√† B·∫£o qu·∫£n" ‚Üí normalized: "6. thu ho·∫°ch v√† b·∫£o qu·∫£n" ‚Üí words: [thu, ho·∫°ch, b·∫£o, qu·∫£n]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::6. Thu ho·∫°ch v√† B·∫£o qu·∫£n
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "6. Thu ho·∫°ch v√† B·∫£o qu·∫£n" ‚Üí normalized: "6. thu ho·∫°ch v√† b·∫£o qu·∫£n" ‚Üí words: [thu, ho·∫°ch, b·∫£o, qu·∫£n]
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] ‚ùå‚ùå‚ùå‚ùå‚ùå‚ùå No main topic match found (no topic with score >= 70%)
api:dev: subTopicMatch:  null
api:dev: ------------kqua tr·∫£ v·ªÅ c·ªßa searchByHeadings-------------------:  null
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [CropKnowledgeFTSService] ==================No heading match, falling back to Layer 2 FTS===================
web:dev:  GET /api/farms 200 in 179ms
api:dev: ...........................FULL-TEXT SEARCH T·ªöI CH∆†I..................................
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [CropKnowledgeFTSService] ______________Executing FTS: query="c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh", userId=undefined, limit=5, minRank=0.01, cropFilter=b∆∞·ªüi da xanh
api:dev: ==========================================================
api:dev: ==========results trong FTS!heading:  [
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_017',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh',
api:dev:     tieuDeChunk: '5.3. B·ªánh Greening (V√†ng l√° g√¢n xanh)',
api:dev:     noiDung: '- Tri·ªáu ch·ª©ng: B·ªánh nguy hi·ªÉm nh·∫•t. L√° c√≥ g√¢n xanh, phi·∫øn l√° v√†ng (th∆∞·ªùng v√†ng l·ªëm ƒë·ªëm, kh√¥ng ƒë·ªëi x·ª©ng). Qu·∫£ nh·ªè, m√©o m√≥, v·ªè d√†y, h·∫°t b·ªã th·ªëi, ƒÉn c√≥ v·ªã ƒë·∫Øng.\r- Bi·ªán ph√°p: B·ªánh kh√¥ng c√≥ thu·ªëc ƒë·∫∑c tr·ªã. Ph·∫£i ph√≤ng ng·ª´a b·∫±ng c√°ch ch·ªçn gi·ªëng s·∫°ch b·ªánh v√† ti√™u di·ªát R·∫ßy ch·ªïng c√°nh (m√¥i gi·ªõi truy·ªÅn b·ªánh). Nh·ªï b·ªè v√† ti√™u h·ªßy c√¢y b·ªã b·ªánh n·∫∑ng ƒë·ªÉ tr√°nh l√¢y lan.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: true,
api:dev:       char_count: 353,
api:dev:       word_count: 75
api:dev:     },
api:dev:     rank: 1.9791667,
api:dev:     headline: '<b>xanh</b>, phi·∫øn l√° v√†ng (th∆∞·ªùng v√†ng l·ªëm ƒë·ªëm, kh√¥ng ƒë·ªëi x·ª©ng). Qu·∫£ nh·ªè, m√©o m√≥, v·ªè d√†y, h·∫°t b·ªã th·ªëi, ƒÉn c√≥ v·ªã ƒë·∫Øng.\r- Bi·ªán'
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_012',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '4. C√°ch b√≥n ph√¢n',
api:dev:     tieuDeChunk: '4.2. B√≥n ph√¢n sau thu ho·∫°ch (Ph·ª•c h·ªìi c√¢y)',
api:dev:     noiDung: 'Ngay sau khi h√°i qu·∫£, k·∫øt h·ª£p v·ªõi vi·ªác t·ªâa c√†nh, b√≥n 15-20kg ph√¢n h·ªØu c∆° + 1-2kg NPK (v√≠ d·ª•: 20-20-15 ho·∫∑c 16-16-8) cho m·ªói g·ªëc ƒë·ªÉ c√¢y ph·ª•c h·ªìi s·ª©c, chu·∫©n b·ªã cho m√πa v·ª• ti·∫øp theo. B√≥n b·∫±ng c√°ch x·ªõi r√£nh n√¥ng theo h√¨nh chi·∫øu t√°n l√°, r·∫£i ph√¢n, l·∫•p ƒë·∫•t v√† t∆∞·ªõi ƒë·∫´m.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: false,
api:dev:       char_count: 262,
api:dev:       word_count: 57
api:dev:     },
api:dev:     rank: 1.8902439,
api:dev:     headline: 'Ngay sau khi h√°i qu·∫£, k·∫øt h·ª£p v·ªõi vi·ªác t·ªâa c√†nh, b√≥n 15-20kg ph√¢n h·ªØu c∆° + 1-2kg NPK (v√≠ d·ª•: 20'
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_002',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh',
api:dev:     tieuDeChunk: '1.2. Gi√° tr·ªã kinh t·∫ø',
api:dev:     noiDung: 'B∆∞·ªüi Da Xanh l√† lo·∫°i c√¢y ƒÉn qu·∫£ c√≥ gi√° tr·ªã kinh t·∫ø cao, l√† m·∫∑t h√†ng xu·∫•t kh·∫©u ch·ªß l·ª±c (ƒë·∫∑c bi·ªát sang EU, Canada, Trung Qu·ªëc) nh·ªù kh·∫£ nƒÉng ƒë√°p ·ª©ng c√°c ti√™u chu·∫©n kh·∫Øt khe nh∆∞ GlobalG.A.P. ho·∫∑c VietG.A.P. Nhu c·∫ßu th·ªã tr∆∞·ªùng n·ªôi ƒë·ªãa v√† xu·∫•t kh·∫©u lu√¥n ·ªü m·ª©c cao v√† ·ªïn ƒë·ªãnh, mang l·∫°i thu nh·∫≠p t·ªët cho n√¥ng d√¢n. ƒê√¢y l√† c√¢y tr·ªìng x√≥a ƒë√≥i gi·∫£m ngh√®o v√† l√†m gi√†u cho nhi·ªÅu ƒë·ªãa ph∆∞∆°ng, th∆∞·ªùng l√† s·∫£n ph·∫©m OCOP (M·ªói x√£ m·ªôt s·∫£n ph·∫©m) ch·ªß l·ª±c. Qu·∫£ c√≥ th·ªÉ b·∫£o qu·∫£n l√¢u sau thu ho·∫°ch (2-3 tu·∫ßn ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng), thu·∫≠n l·ª£i cho v·∫≠n chuy·ªÉn xa.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: false,
api:dev:       char_count: 527,
api:dev:       word_count: 114
api:dev:     },
api:dev:     rank: 1.8902439,
api:dev:     headline: '<b>Xanh</b> l√† lo·∫°i c√¢y ƒÉn qu·∫£ c√≥ gi√° tr·ªã kinh t·∫ø cao, l√† m·∫∑t h√†ng xu·∫•t kh·∫©u ch·ªß l·ª±c (ƒë·∫∑c bi·ªát sang EU, Canada, Trung'
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_004',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '2. C√°ch tr·ªìng',
api:dev:     tieuDeChunk: '2.1. Ti√™u chu·∫©n ch·ªçn gi·ªëng',
api:dev:     noiDung: 'Ph·∫£i ch·ªçn c√¢y gi·ªëng s·∫°ch b·ªánh, ƒë·∫∑c bi·ªát l√† b·ªánh Greening (v√†ng l√° g√¢n xanh) v√† Tristeza. Gi·ªëng ph·ªï bi·∫øn l√† c√¢y gh√©p m·∫Øt, g·ªëc gh√©p ph·∫£i t∆∞∆°ng th√≠ch t·ªët (th∆∞·ªùng l√† g·ªëc b∆∞·ªüi chua, cam ƒë·∫Øng ƒë·ªÉ tƒÉng kh·∫£ nƒÉng th√≠ch nghi v·ªõi ƒë·∫•t ph√®n, m·∫∑n nh·∫π v√† kh√°ng b·ªánh th·ªëi r·ªÖ). C√¢y gi·ªëng kh·ªèe m·∫°nh c·∫ßn c√≥ chi·ªÅu cao 60-80cm, l√° xanh t·ªët, kh√¥ng d·ªã d·∫°ng, ƒë√∫ng ƒë·ªô tu·ªïi (6-8 th√°ng sau gh√©p), v·ªã tr√≠ m·∫Øt gh√©p ƒë√£ li·ªÅn s·∫πo t·ªët v√† cao c√°ch m·∫∑t b·∫ßu 15-20cm.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: false,
api:dev:       char_count: 429,
api:dev:       word_count: 89
api:dev:     },
api:dev:     rank: 1.875,
api:dev:     headline: '<b>xanh</b>) v√† Tristeza. Gi·ªëng ph·ªï bi·∫øn l√† c√¢y gh√©p m·∫Øt, g·ªëc gh√©p ph·∫£i t∆∞∆°ng th√≠ch t·ªët (th∆∞·ªùng l√† g·ªëc b∆∞·ªüi chua, cam ƒë·∫Øng ƒë·ªÉ tƒÉng'
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_011',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '4. C√°ch b√≥n ph√¢n',
api:dev:     tieuDeChunk: '4.1. B√≥n ph√¢n giai ƒëo·∫°n c√¢y t∆° (NƒÉm 1-3)',
api:dev:     noiDung: 'Giai ƒëo·∫°n n√†y c√¢y c·∫ßn nhi·ªÅu ƒê·∫°m (N) v√† L√¢n (P) ƒë·ªÉ ph√°t tri·ªÉn th√¢n, l√°, r·ªÖ. S·ª≠ d·ª•ng NPK (v√≠ d·ª•: 20-20-15 ho·∫∑c 16-16-8) v·ªõi li·ªÅu l∆∞·ª£ng 0.5 - 1.5kg/c√¢y/nƒÉm, tƒÉng d·∫ßn theo tu·ªïi c√¢y (V√≠ d·ª•: NƒÉm 1: 0.5kg, NƒÉm 2: 1kg, NƒÉm 3: 1.5kg). Chia l√†m 4-5 l·∫ßn b√≥n trong nƒÉm, r·∫£i quanh t√°n (c√°ch g·ªëc 30-50cm) v√† t∆∞·ªõi n∆∞·ªõc. C√≥ th·ªÉ b·ªï sung ph√¢n h·ªØu c∆° (2-5kg/g·ªëc) h√†ng nƒÉm.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: true,
api:dev:       char_count: 353,
api:dev:       word_count: 73
api:dev:     },
api:dev:     rank: 1.875,
api:dev:     headline: 'Giai ƒëo·∫°n n√†y c√¢y c·∫ßn nhi·ªÅu ƒê·∫°m (N) v√† L√¢n (P) ƒë·ªÉ ph√°t tri·ªÉn th√¢n, l√°, r·ªÖ. S·ª≠ d·ª•ng NPK (v√≠ d·ª•: 20-20-15'
api:dev:   }
api:dev: ]
api:dev: ==========================================================
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [CropKnowledgeFTSService] FTS returned 5 results
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [CropKnowledgeFTSService] üîç extractDiseaseKeywords: query="c√°ch tr·ªã b·ªánh ph·∫•n tr·∫Øng ·ªü b∆∞·ªüi da xanh" ‚Üí ascii="cach tri benh phan trang o buoi da xanh"
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [CropKnowledgeFTSService] üéØ Matched disease: "phan trang"
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [CropKnowledgeFTSService] üîÑ Re-ranking with disease keywords: [phan trang]
api:dev: confidence c·ªßa FTS:  1
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [CropKnowledgeFTSService] FTS top match: B∆∞·ªüi Da Xanh - 4.2. B√≥n ph√¢n sau thu ho·∫°ch (Ph·ª•c h·ªìi c√¢y) (rank: 2.8902, confidence: 1.000)
api:dev: threshold c·ªßa FTS:  0.7
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [CropKnowledgeFTSService] ---------------------Layer 2 FTS match found (confidence: 1.000) in 16ms-----------------
api:dev: cropResult.found:  true
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM   DEBUG [ExactMatchV2Service] üîç Search completed via crop_fts in 16ms - Found: true, Confidence: 1.000
api:dev: _orchestrator_ exactResult_layer1_FTS:  {
api:dev:   found: true,
api:dev:   content: '**B∆∞·ªüi Da Xanh - 4.2. B√≥n ph√¢n sau thu ho·∫°ch (Ph·ª•c h·ªìi c√¢y)**\n' +
api:dev:     '*Ch·ªß ƒë·ªÅ: 4. C√°ch b√≥n ph√¢n*\n' +
api:dev:     '\n' +
api:dev:     'Ngay sau khi h√°i qu·∫£, k·∫øt h·ª£p v·ªõi vi·ªác t·ªâa c√†nh, b√≥n 15-20kg ph√¢n h·ªØu c∆° + 1-2kg NPK (v√≠ d·ª•: 20-20-15 ho·∫∑c 16-16-8) cho m·ªói g·ªëc ƒë·ªÉ c√¢y ph·ª•c h·ªìi s·ª©c, chu·∫©n b·ªã cho m√πa v·ª• ti·∫øp theo. B√≥n b·∫±ng c√°ch x·ªõi r√£nh n√¥ng theo h√¨nh chi·∫øu t√°n l√°, r·∫£i ph√¢n, l·∫•p ƒë·∫•t v√† t∆∞·ªõi ƒë·∫´m.',
api:dev:   source: {
api:dev:     documentId: 'buoi_da_xanh_012',
api:dev:     filename: 'B∆∞·ªüi Da Xanh.md',
api:dev:     chunkIndex: 0
api:dev:   },
api:dev:   confidence: 1,
api:dev:   metadata: {
api:dev:     loai_cay: 'B∆∞·ªüi Da Xanh',
api:dev:     chu_de_lon: '4. C√°ch b√≥n ph√¢n',
api:dev:     tieu_de_chunk: '4.2. B√≥n ph√¢n sau thu ho·∫°ch (Ph·ª•c h·ªìi c√¢y)',
api:dev:     rank: 2.8902438999999998,
api:dev:     match_type: 'fts_match',
api:dev:     processingTime: 16
api:dev:   }
api:dev: }
api:dev: exactResult.confidence:  1
api:dev: [Nest] 20260  - 12/14/2025, 10:35:00 PM     LOG [AIOrchestrator] ‚úì Layer 1 (Exact Match) succeeded
api:dev: PROCESSING LAYER1
api:dev: ai_response:  {
api:dev:   success: true,
api:dev:   message: '**B∆∞·ªüi Da Xanh - 4.2. B√≥n ph√¢n sau thu ho·∫°ch (Ph·ª•c h·ªìi c√¢y)**\n' +
api:dev:     '*Ch·ªß ƒë·ªÅ: 4. C√°ch b√≥n ph√¢n*\n' +
api:dev:     '\n' +
api:dev:     'Ngay sau khi h√°i qu·∫£, k·∫øt h·ª£p v·ªõi vi·ªác t·ªâa c√†nh, b√≥n 15-20kg ph√¢n h·ªØu c∆° + 1-2kg NPK (v√≠ d·ª•: 20-20-15 ho·∫∑c 16-16-8) cho m·ªói g·ªëc ƒë·ªÉ c√¢y ph·ª•c h·ªìi s·ª©c, chu·∫©n b·ªã cho m√πa v·ª• ti·∫øp theo. B√≥n b·∫±ng c√°ch x·ªõi r√£nh n√¥ng theo h√¨nh chi·∫øu t√°n l√°, r·∫£i ph√¢n, l·∫•p ƒë·∫•t v√† t∆∞·ªõi ƒë·∫´m.',
api:dev:   intent: 'knowledge_query',
api:dev:   processingLayer: 'layer_1_exact',
api:dev:   confidence: 1,
api:dev:   responseTime: 2099,
api:dev:   exactMatch: {
api:dev:     found: true,
api:dev:     content: '**B∆∞·ªüi Da Xanh - 4.2. B√≥n ph√¢n sau thu ho·∫°ch (Ph·ª•c h·ªìi c√¢y)**\n' +
api:dev:       '*Ch·ªß ƒë·ªÅ: 4. C√°ch b√≥n ph√¢n*\n' +
api:dev:       '\n' +
api:dev:       'Ngay sau khi h√°i qu·∫£, k·∫øt h·ª£p v·ªõi vi·ªác t·ªâa c√†nh, b√≥n 15-20kg ph√¢n h·ªØu c∆° + 1-2kg NPK (v√≠ d·ª•: 20-20-15 ho·∫∑c 16-16-8) cho m·ªói g·ªëc ƒë·ªÉ c√¢y ph·ª•c h·ªìi s·ª©c, chu·∫©n b·ªã cho m√πa v·ª• ti·∫øp theo. B√≥n b·∫±ng c√°ch x·ªõi r√£nh n√¥ng theo h√¨nh chi·∫øu t√°n l√°, r·∫£i ph√¢n, l·∫•p ƒë·∫•t v√† t∆∞·ªõi ƒë·∫´m.',
api:dev:     source: {
api:dev:       documentId: 'buoi_da_xanh_012',
api:dev:       filename: 'B∆∞·ªüi Da Xanh.md',
api:dev:       chunkIndex: 0
api:dev:     },
api:dev:     confidence: 1,
api:dev:     metadata: {
api:dev:       loai_cay: 'B∆∞·ªüi Da Xanh',
api:dev:       chu_de_lon: '4. C√°ch b√≥n ph√¢n',
api:dev:       tieu_de_chunk: '4.2. B√≥n ph√¢n sau thu ho·∫°ch (Ph·ª•c h·ªìi c√¢y)',
api:dev:       rank: 2.8902438999999998,
api:dev:       match_type: 'fts_match',
api:dev:       processingTime: 16
api:dev:     }
api:dev:   },
api:dev:   sources: [ { type: 'document', reference: 'B∆∞·ªüi Da Xanh.md', confidence: 1 } ]
api:dev: }
2. "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™" -> "C√† Ph√™ - 3.2. C√¢y che b√≥ng v√† ƒêa d·∫°ng sinh h·ªçc Ch·ªß ƒë·ªÅ: 3. C√°ch chƒÉm s√≥c

C√† ph√™ l√† c√¢y ∆∞a b√≥ng r√¢m (ƒë·∫∑c bi·ªát l√† Arabica). Tr·ªìng c√¢y che b√≥ng (nh∆∞ mu·ªìng ƒëen, s·∫ßu ri√™ng, b∆°, ti√™u...) gi√∫p ƒëi·ªÅu h√≤a vi kh√≠ h·∫≠u, gi·ªØ ·∫©m ƒë·∫•t, h·∫°n ch·∫ø c·ªè d·∫°i, gi·∫£m x√≥i m√≤n, v√† tƒÉng ƒë·ªô ph√¨ cho ƒë·∫•t (c√¢y h·ªç ƒë·∫≠u c·ªë ƒë·ªãnh ƒë·∫°m). Canh t√°c ƒëa d·∫°ng sinh h·ªçc (xen canh) l√† xu h∆∞·ªõng b·ªÅn v·ªØng, gi·∫£m r·ªßi ro s√¢u b·ªánh v√† tƒÉng thu nh·∫≠p."
log:
api:dev: user_prompt:  c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™
api:dev: direct ƒë·∫øn Orchest ƒë·ªÉ x·ª≠ l√Ω
api:dev: [Nest] 20260  - 12/14/2025, 10:39:39 PM     LOG [AIOrchestrator] Processing query: "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™" for user b5a0dfd6-579c-4a90-833d-f4145e03c292
api:dev: STEP1 trong orchest==========INTENT CLASSIFIER & NER ==================
api:dev: user_query || prompt:  c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™
api:dev: normalize_prompt_text:  c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™
api:dev: post ƒë·∫øn 8000/analyze..........................................
api:dev: INTENT tr·∫£ v·ªÅ t·ª´ 8000/analyze:  knowledge_query
api:dev: entities tr·∫£ v·ªÅ t·ª´ 8000/analyze:  [
api:dev:   {
api:dev:     type: 'crop_name',
api:dev:     value: 'c√† ph√™',
api:dev:     raw: 'c√† ph√™',
api:dev:     confidence: 0.95,
api:dev:     start: 23,
api:dev:     end: 29
api:dev:   }
api:dev: ]
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [PythonAIClientService] Python AI Analysis: Intent=knowledge_query, Entities=1, Time=110ms
api:dev: pythonResult:  knowledge_query
api:dev: pythonResult_entities_!!!!!!!!!!!!!:  [
api:dev:   {
api:dev:     type: 'crop_name',
api:dev:     value: 'c√† ph√™',
api:dev:     raw: 'c√† ph√™',
api:dev:     confidence: 0.95,
api:dev:     start: 23,
api:dev:     end: 29
api:dev:   }
api:dev: ]
api:dev: !!!D√ôNG PYTHON CHO INENT CLASSIFIER!!!
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [IntentClassifierService] Using Python AI Service (PhoBERT) classification
api:dev: intent_convertToIntentType_aka_intent_tr·∫£_v·ªÅ_step1_orchest:  knowledge_query
api:dev: entities_convertToEntity_aka_entities_tr·∫£_v·ªÅ_step1_orchest:  [
api:dev:   {
api:dev:     type: 'crop_name',
api:dev:     value: 'c√† ph√™',
api:dev:     raw: 'c√† ph√™',
api:dev:     confidence: 0.95,
api:dev:     position: { start: 23, end: 29 }
api:dev:   }
api:dev: ]
api:dev: !!!!intent_result_ai_orchestrator!!!!:  {
api:dev:   intent: 'knowledge_query',
api:dev:   confidence: 0.9995608925819397,
api:dev:   entities: [
api:dev:     {
api:dev:       type: 'crop_name',
api:dev:       value: 'c√† ph√™',
api:dev:       raw: 'c√† ph√™',
api:dev:       confidence: 0.95,
api:dev:       position: [Object]
api:dev:     }
api:dev:   ],
api:dev:   originalQuery: 'c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™',
api:dev:   normalizedQuery: 'c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™'
api:dev: }
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [AIOrchestrator] Intent: knowledge_query, Confidence: 1.00, Entities: 1
api:dev: user plan:  PREMIUM
api:dev: user status:  ACTIVE
api:dev: isPremiumActive:  true
api:dev: ACCESS CHECK trong orchest:  { allowed: true }
api:dev: STEP2 trong orchest=============== UNKNOWN || CHECK <ACTION || KNOWLEDGE>=============
api:dev: intent_category_|->ACTION || KNOWLEDGE<-|_ai_orchestrator:  knowledge
api:dev: ======================KNOWLEDGE_CATEGORY=======================
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [AIOrchestrator] Attempting Layer 1: Exact Match
api:dev: .............................TRY LAYER1_FTS..................................................
api:dev: ch·∫°y v√†o findExactMatch c·ªßa exact-match-v2.service do orchestrator g·ªçi
api:dev: words:  [
api:dev:   'c√°ch', 'tr·ªã',
api:dev:   'b·ªánh', 'lo√©t',
api:dev:   'c√¢y',  'c√†',
api:dev:   'ph√™'
api:dev: ]
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [QueryPreprocessorService] Query cleaned: "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™" ‚Üí "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™"
api:dev: keywords:  [ 'c√°ch', 'tr·ªã', 'b·ªánh', 'lo√©t', 'c√¢y', 'ph√™' ]
api:dev: noiseWordCoint:  1
api:dev: hasNoiseWords:  true
api:dev: recommedProcessing:  true
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [QueryPreprocessorService] Query cleaned: "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™" ‚Üí "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™"
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [QueryPreprocessorService] Query cleaned: "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™" ‚Üí "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™"
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [ExactMatchV2Service] !!!! Query preprocessed:
api:dev:   Original: "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™"
api:dev:   Cleaned: "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™"
api:dev:   Keywords: [c√°ch, tr·ªã, b·ªánh, lo√©t, c√¢y, ph√™]
api:dev:   Noise words removed: 1
api:dev: option.useFuzzyFallback:  undefined
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [ExactMatchV2Service] Detected crop filter from NER: "c√† ph√™"
api:dev: Trying Crop Knowledge FTS...
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] Searching for: "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™"
api:dev: -------------------SEARCH B·∫∞NG HEADING-----------------------
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üîç Heading search - Query: "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™" ‚Üí Normalized: "c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™"
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üìù Query words (>2 chars): [c√°ch, tr·ªã, b·ªánh, lo√©t, c√¢y, ph√™]
api:dev: ALLCHUNKS L√Ä C√ÅC ROW TRONG crop_knowledge_chunks m√† c√≥ loai_cay = |crop_name - NER|
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üìö Found 22 total chunks to analyze
api:dev: topicKey:  C√† Ph√™::1. Th√¥ng tin chung v·ªÅ C√¢y C√† Ph√™
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "1. Th√¥ng tin chung v·ªÅ C√¢y C√† Ph√™" ‚Üí normalized: "1. th√¥ng tin chung v·ªÅ c√¢y c√† ph√™" ‚Üí words: [th√¥ng, tin, chung, c√¢y, ph√™]
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üìä Topic: "1. Th√¥ng tin chung v·ªÅ C√¢y C√† Ph√™" | Score: 40% | Matched: [c√¢y, ph√™] / [th√¥ng, tin, chung, c√¢y, ph√™]
api:dev: topicKey:  C√† Ph√™::1. Th√¥ng tin chung v·ªÅ C√¢y C√† Ph√™
api:dev: topicKey:  C√† Ph√™::1. Th√¥ng tin chung v·ªÅ C√¢y C√† Ph√™
api:dev: topicKey:  C√† Ph√™::2. C√°ch tr·ªìng
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "2. C√°ch tr·ªìng" ‚Üí normalized: "2. c√°ch tr·ªìng" ‚Üí words: [c√°ch, tr·ªìng]
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üìä Topic: "2. C√°ch tr·ªìng" | Score: 50% | Matched: [c√°ch] / [c√°ch, tr·ªìng]
api:dev: topicKey:  C√† Ph√™::2. C√°ch tr·ªìng
api:dev: topicKey:  C√† Ph√™::2. C√°ch tr·ªìng
api:dev: topicKey:  C√† Ph√™::2. C√°ch tr·ªìng
api:dev: topicKey:  C√† Ph√™::3. C√°ch chƒÉm s√≥c
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "3. C√°ch chƒÉm s√≥c" ‚Üí normalized: "3. c√°ch chƒÉm s√≥c" ‚Üí words: [c√°ch, chƒÉm, s√≥c]
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üìä Topic: "3. C√°ch chƒÉm s√≥c" | Score: 33% | Matched: [c√°ch] / [c√°ch, chƒÉm, s√≥c]
api:dev: topicKey:  C√† Ph√™::3. C√°ch chƒÉm s√≥c
api:dev: topicKey:  C√† Ph√™::3. C√°ch chƒÉm s√≥c
api:dev: topicKey:  C√† Ph√™::3. C√°ch chƒÉm s√≥c
api:dev: topicKey:  C√† Ph√™::4. C√°ch b√≥n ph√¢n
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "4. C√°ch b√≥n ph√¢n" ‚Üí normalized: "4. c√°ch b√≥n ph√¢n" ‚Üí words: [c√°ch, b√≥n, ph√¢n]
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üìä Topic: "4. C√°ch b√≥n ph√¢n" | Score: 33% | Matched: [c√°ch] / [c√°ch, b√≥n, ph√¢n]
api:dev: topicKey:  C√† Ph√™::4. C√°ch b√≥n ph√¢n
api:dev: topicKey:  C√† Ph√™::4. C√°ch b√≥n ph√¢n
api:dev: topicKey:  C√† Ph√™::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh" ‚Üí normalized: "5. c√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh" ‚Üí words: [c√°ch, ph√≤ng, tr·ª´, s√¢u, h·∫°i, ch√≠nh]
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üìä Topic: "5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh" | Score: 17% | Matched: [c√°ch] / [c√°ch, ph√≤ng, tr·ª´, s√¢u, h·∫°i, ch√≠nh]
api:dev: topicKey:  C√† Ph√™::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  C√† Ph√™::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  C√† Ph√™::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  C√† Ph√™::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  C√† Ph√™::6. Thu ho·∫°ch v√† S∆° ch·∫ø
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "6. Thu ho·∫°ch v√† S∆° ch·∫ø" ‚Üí normalized: "6. thu ho·∫°ch v√† s∆° ch·∫ø" ‚Üí words: [thu, ho·∫°ch, ch·∫ø]
api:dev: topicKey:  C√† Ph√™::6. Thu ho·∫°ch v√† S∆° ch·∫ø
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "6. Thu ho·∫°ch v√† S∆° ch·∫ø" ‚Üí normalized: "6. thu ho·∫°ch v√† s∆° ch·∫ø" ‚Üí words: [thu, ho·∫°ch, ch·∫ø]
api:dev: topicKey:  C√† Ph√™::6. Thu ho·∫°ch v√† S∆° ch·∫ø
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "6. Thu ho·∫°ch v√† S∆° ch·∫ø" ‚Üí normalized: "6. thu ho·∫°ch v√† s∆° ch·∫ø" ‚Üí words: [thu, ho·∫°ch, ch·∫ø]
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] ‚ùå‚ùå‚ùå‚ùå‚ùå‚ùå No main topic match found (no topic with score >= 70%)
api:dev: subTopicMatch:  null
api:dev: ------------kqua tr·∫£ v·ªÅ c·ªßa searchByHeadings-------------------:  null
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [CropKnowledgeFTSService] ==================No heading match, falling back to Layer 2 FTS===================
api:dev: ...........................FULL-TEXT SEARCH T·ªöI CH∆†I..................................
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [CropKnowledgeFTSService] ______________Executing FTS: query="c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™", userId=undefined, limit=5, minRank=0.01, cropFilter=c√† ph√™
api:dev: ==========================================================
api:dev: ==========results trong FTS!heading:  [
api:dev:   {
api:dev:     chunkId: 'ca_phe_001',
api:dev:     loaiCay: 'C√† Ph√™',
api:dev:     chuDeLon: '1. Th√¥ng tin chung v·ªÅ C√¢y C√† Ph√™',
api:dev:     tieuDeChunk: '1.1. Ngu·ªìn g·ªëc v√† Ph√¢n lo·∫°i',
api:dev:     noiDung: 'C√¢y c√† ph√™ (T√™n khoa h·ªçc: Coffea) l√† m·ªôt chi th·ª±c v·∫≠t thu·ªôc h·ªç Thi·∫øn th·∫£o (Rubiaceae). C√≥ nhi·ªÅu lo√†i, nh∆∞ng hai lo√†i c√≥ gi√° tr·ªã kinh t·∫ø quan tr·ªçng nh·∫•t tr√™n to√†n c·∫ßu v√† t·∫°i Vi·ªát Nam l√†:\r- C√† ph√™ Robusta:\r- Ngu·ªìn g·ªëc: V√πng c·∫≠n Sahara, ch√¢u Phi.\r- ƒê·∫∑c ƒëi·ªÉm: C√¢y d·∫°ng b·ª•i ho·∫∑c c√¢y g·ªó nh·ªè, l√° to, r·ªÖ n√¥ng. H√†m l∆∞·ª£ng caffeine cao (2% - 4%). H·∫°t tr√≤n, nh·ªè.\r- ƒê·∫∑c t√≠nh: Kh·∫£ nƒÉng kh√°ng b·ªánh (ƒë·∫∑c bi·ªát l√† g·ªâ s·∫Øt) t·ªët h∆°n Arabica, ch·ªãu ƒë∆∞·ª£c kh√≠ h·∫≠u n√≥ng ·∫©m, y√™u c·∫ßu l∆∞·ª£ng m∆∞a cao. Th∆∞·ªùng ƒë∆∞·ª£c d√πng cho c√† ph√™ h√≤a tan v√† ph·ªëi tr·ªôn.\r- C√† ph√™ Arabica:\r- Ngu·ªìn g·ªëc: V√πng cao nguy√™n T√¢y Nam Ethiopia.\r- ƒê·∫∑c ƒëi·ªÉm: C√¢y nh·ªè, l√° nh·ªè h∆°n Robusta. H√†m l∆∞·ª£ng caffeine th·∫•p (1% - 2%). H·∫°t d√†i, d·∫πt.\r- ƒê·∫∑c t√≠nh: H∆∞∆°ng v·ªã th∆°m, phong ph√∫, ph·ª©c t·∫°p, c√≥ v·ªã chua thanh. Y√™u c·∫ßu kh·∫Øt khe v·ªÅ sinh th√°i, ph·∫£i tr·ªìng ·ªü ƒë·ªô cao l·ªõn, kh√≠ h·∫≠u m√°t m·∫ª. R·∫•t m·∫´n c·∫£m v·ªõi b·ªánh g·ªâ s·∫Øt. ƒê√¢y l√† d√≤ng c√† ph√™ ch√≠nh cho "c√† ph√™ ƒë·∫∑c s·∫£n" (Specialty Coffee). C√°c gi·ªëng ph·ªï bi·∫øn: Catimor, Typica, Bourbon...',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: true,
api:dev:       char_count: 988,
api:dev:       word_count: 202
api:dev:     },
api:dev:     rank: 1.8243243,
api:dev:     headline: 'C√¢y c√† ph√™ (T√™n khoa h·ªçc: Coffea) l√† m·ªôt chi th·ª±c v·∫≠t thu·ªôc h·ªç Thi·∫øn th·∫£o (Rubiaceae). C√≥ nhi·ªÅu lo√†i, nh∆∞ng hai lo√†i c√≥ gi√°'
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'ca_phe_002',
api:dev:     loaiCay: 'C√† Ph√™',
api:dev:     chuDeLon: '1. Th√¥ng tin chung v·ªÅ C√¢y C√† Ph√™',
api:dev:     tieuDeChunk: '1.2. Gi√° tr·ªã kinh t·∫ø',
api:dev:     noiDung: 'C√† ph√™ l√† m·ªôt trong nh·ªØng m·∫∑t h√†ng n√¥ng s·∫£n xu·∫•t kh·∫©u ch·ªß l·ª±c c·ªßa Vi·ªát Nam, ƒë∆∞a Vi·ªát Nam tr·ªü th√†nh c∆∞·ªùng qu·ªëc xu·∫•t kh·∫©u c√† ph√™ l·ªõn th·ª© hai th·∫ø gi·ªõi (ƒë·ª©ng ƒë·∫ßu v·ªÅ Robusta). Ng√†nh c√† ph√™ t·∫°o c√¥ng ƒÉn vi·ªác l√†m cho h√†ng tri·ªáu lao ƒë·ªông, ƒë·∫∑c bi·ªát l√† ·ªü c√°c t·ªânh T√¢y Nguy√™n v√† T√¢y B·∫Øc, g√≥p ph·∫ßn quan tr·ªçng v√†o an sinh x√£ h·ªôi v√† ph√°t tri·ªÉn kinh t·∫ø v√πng.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: false,
api:dev:       char_count: 342,
api:dev:       word_count: 76
api:dev:     },
api:dev:     rank: 1.6935484,
api:dev:     headline: 'C√† ph√™ l√† m·ªôt trong nh·ªØng m·∫∑t h√†ng n√¥ng s·∫£n xu·∫•t kh·∫©u ch·ªß l·ª±c c·ªßa Vi·ªát Nam, ƒë∆∞a Vi·ªát Nam tr·ªü th√†nh c∆∞·ªùng qu·ªëc xu·∫•t'
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'ca_phe_009',
api:dev:     loaiCay: 'C√† Ph√™',
api:dev:     chuDeLon: '3. C√°ch chƒÉm s√≥c',
api:dev:     tieuDeChunk: '3.2. C√¢y che b√≥ng v√† ƒêa d·∫°ng sinh h·ªçc',
api:dev:     noiDung: 'C√† ph√™ l√† c√¢y ∆∞a b√≥ng r√¢m (ƒë·∫∑c bi·ªát l√† Arabica). Tr·ªìng c√¢y che b√≥ng (nh∆∞ mu·ªìng ƒëen, s·∫ßu ri√™ng, b∆°, ti√™u...) gi√∫p ƒëi·ªÅu h√≤a vi kh√≠ h·∫≠u, gi·ªØ ·∫©m ƒë·∫•t, h·∫°n ch·∫ø c·ªè d·∫°i, gi·∫£m x√≥i m√≤n, v√† tƒÉng ƒë·ªô ph√¨ cho ƒë·∫•t (c√¢y h·ªç ƒë·∫≠u c·ªë ƒë·ªãnh ƒë·∫°m). Canh t√°c ƒëa d·∫°ng sinh h·ªçc (xen canh) l√† xu h∆∞·ªõng b·ªÅn v·ªØng, gi·∫£m r·ªßi ro s√¢u b·ªánh v√† tƒÉng thu nh·∫≠p.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: false,
api:dev:       char_count: 322,
api:dev:       word_count: 72
api:dev:     },
api:dev:     rank: 1.6935484,
api:dev:     headline: 'C√† ph√™ l√† c√¢y ∆∞a b√≥ng r√¢m (ƒë·∫∑c bi·ªát l√† Arabica). Tr·ªìng c√¢y che b√≥ng (nh∆∞ mu·ªìng ƒëen, s·∫ßu ri√™ng, b∆°, ti√™u...) gi√∫p ƒëi·ªÅu h√≤a'
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'ca_phe_017',
api:dev:     loaiCay: 'C√† Ph√™',
api:dev:     chuDeLon: '5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh',
api:dev:     tieuDeChunk: '5.3. B·ªánh g·ªâ s·∫Øt (Coffee Leaf Rust)',
api:dev:     noiDung: '- Tri·ªáu ch·ª©ng: B·ªánh nguy hi·ªÉm nh·∫•t tr√™n Arabica. M·∫∑t d∆∞·ªõi l√° xu·∫•t hi·ªán c√°c ch·∫•m nh·ªè m√†u v√†ng cam, sau l·ªõn d·∫ßn th√†nh c√°c ·ªï b·ªôt m√†u da cam (b√†o t·ª≠ n·∫•m). L√†m l√° r·ª•ng h√†ng lo·∫°t, c√¢y ki·ªát s·ª©c, gi·∫£m nƒÉng su·∫•t nghi√™m tr·ªçng.\r- Bi·ªán ph√°p: Ch·ªçn gi·ªëng kh√°ng b·ªánh (v√≠ d·ª•: Catimor). Tr·ªìng m·∫≠t ƒë·ªô h·ª£p l√Ω, t·ªâa c√†nh th√¥ng tho√°ng. Phun thu·ªëc g·ªëc ƒê·ªìng (Bordeaux) ho·∫∑c thu·ªëc ƒë·∫∑c tr·ªã (Hexaconazole, Propiconazole) 2-3 l·∫ßn/nƒÉm (ƒë·∫ßu v√† cu·ªëi m√πa m∆∞a).',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: true,
api:dev:       char_count: 429,
api:dev:       word_count: 83
api:dev:     },
api:dev:     rank: 1.6666667,
api:dev:     headline: '- Tri·ªáu ch·ª©ng: B·ªánh nguy hi·ªÉm nh·∫•t tr√™n Arabica. M·∫∑t d∆∞·ªõi l√° xu·∫•t hi·ªán c√°c ch·∫•m nh·ªè m√†u v√†ng cam, sau l·ªõn d·∫ßn th√†nh c√°c ·ªï'
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'ca_phe_018',
api:dev:     loaiCay: 'C√† Ph√™',
api:dev:     chuDeLon: '5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh',
api:dev:     tieuDeChunk: '5.4. B·ªánh n·∫•m h·ªìng (Pink Disease)',
api:dev:     noiDung: '- Tri·ªáu ch·ª©ng: B·ªánh xu·∫•t hi·ªán ·ªü th√¢n, c√†nh v√†o m√πa m∆∞a. Ban ƒë·∫ßu l√† l·ªõp t∆° m√†u tr·∫Øng, sau chuy·ªÉn sang m√†u h·ªìng nh·∫°t. N·∫•m l√†m t·∫Øc m·∫°ch d·∫´n, g√¢y ch·∫øt c√†nh, ch·∫øt c√¢y.\r- Bi·ªán ph√°p: T·ªâa c√†nh th√¥ng tho√°ng, tr√°nh v∆∞·ªùn qu√° r·∫≠m r·∫°p. C·∫Øt b·ªè c√†nh b·ªánh (c·∫Øt s√¢u xu·ªëng ph·∫ßn kh·ªèe 15-20cm) v√† ti√™u h·ªßy. Qu√©t v√¥i ho·∫∑c thu·ªëc g·ªëc ƒë·ªìng l√™n v·∫øt c·∫Øt.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: true,
api:dev:       char_count: 329,
api:dev:       word_count: 69
api:dev:     },
api:dev:     rank: 1.637931,
api:dev:     headline: '- Tri·ªáu ch·ª©ng: B·ªánh xu·∫•t hi·ªán ·ªü th√¢n, c√†nh v√†o m√πa m∆∞a. Ban ƒë·∫ßu l√† l·ªõp t∆° m√†u tr·∫Øng, sau chuy·ªÉn sang m√†u h·ªìng nh·∫°t. N·∫•m'
api:dev:   }
api:dev: ]
api:dev: ==========================================================
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [CropKnowledgeFTSService] FTS returned 5 results
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [CropKnowledgeFTSService] üîç extractDiseaseKeywords: query="c√°ch tr·ªã b·ªánh lo√©t c√¢y c√† ph√™" ‚Üí ascii="cach tri benh loet cay ca phe"
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [CropKnowledgeFTSService] üéØ Matched disease: "loet cay"
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [CropKnowledgeFTSService] üîÑ Re-ranking with disease keywords: [loet cay]
api:dev: confidence c·ªßa FTS:  1
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [CropKnowledgeFTSService] FTS top match: C√† Ph√™ - 3.2. C√¢y che b√≥ng v√† ƒêa d·∫°ng sinh h·ªçc (rank: 2.6935, confidence: 1.000)
api:dev: threshold c·ªßa FTS:  0.7
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [CropKnowledgeFTSService] ---------------------Layer 2 FTS match found (confidence: 1.000) in 13ms-----------------
api:dev: cropResult.found:  true
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM   DEBUG [ExactMatchV2Service] üîç Search completed via crop_fts in 14ms - Found: true, Confidence: 1.000
api:dev: _orchestrator_ exactResult_layer1_FTS:  {
api:dev:   found: true,
api:dev:   content: '**C√† Ph√™ - 3.2. C√¢y che b√≥ng v√† ƒêa d·∫°ng sinh h·ªçc**\n' +
api:dev:     '*Ch·ªß ƒë·ªÅ: 3. C√°ch chƒÉm s√≥c*\n' +
api:dev:     '\n' +
api:dev:     'C√† ph√™ l√† c√¢y ∆∞a b√≥ng r√¢m (ƒë·∫∑c bi·ªát l√† Arabica). Tr·ªìng c√¢y che b√≥ng (nh∆∞ mu·ªìng ƒëen, s·∫ßu ri√™ng, b∆°, ti√™u...) gi√∫p ƒëi·ªÅu h√≤a vi kh√≠ h·∫≠u, gi·ªØ ·∫©m ƒë·∫•t, h·∫°n ch·∫ø c·ªè d·∫°i, gi·∫£m x√≥i m√≤n, v√† tƒÉng ƒë·ªô ph√¨ cho ƒë·∫•t (c√¢y h·ªç ƒë·∫≠u c·ªë ƒë·ªãnh ƒë·∫°m). Canh t√°c ƒëa d·∫°ng sinh h·ªçc (xen canh) l√† xu h∆∞·ªõng b·ªÅn v·ªØng, gi·∫£m r·ªßi ro s√¢u b·ªánh v√† tƒÉng thu nh·∫≠p.',
api:dev:   source: { documentId: 'ca_phe_009', filename: 'C√† Ph√™.md', chunkIndex: 0 },
api:dev:   confidence: 1,
api:dev:   metadata: {
api:dev:     loai_cay: 'C√† Ph√™',
api:dev:     chu_de_lon: '3. C√°ch chƒÉm s√≥c',
api:dev:     tieu_de_chunk: '3.2. C√¢y che b√≥ng v√† ƒêa d·∫°ng sinh h·ªçc',
api:dev:     rank: 2.6935484,
api:dev:     match_type: 'fts_match',
api:dev:     processingTime: 13
api:dev:   }
api:dev: }
api:dev: exactResult.confidence:  1
api:dev: [Nest] 20260  - 12/14/2025, 10:39:40 PM     LOG [AIOrchestrator] ‚úì Layer 1 (Exact Match) succeeded
api:dev: PROCESSING LAYER1
api:dev: ai_response:  {
api:dev:   success: true,
api:dev:   message: '**C√† Ph√™ - 3.2. C√¢y che b√≥ng v√† ƒêa d·∫°ng sinh h·ªçc**\n' +
api:dev:     '*Ch·ªß ƒë·ªÅ: 3. C√°ch chƒÉm s√≥c*\n' +
api:dev:     '\n' +
api:dev:     'C√† ph√™ l√† c√¢y ∆∞a b√≥ng r√¢m (ƒë·∫∑c bi·ªát l√† Arabica). Tr·ªìng c√¢y che b√≥ng (nh∆∞ mu·ªìng ƒëen, s·∫ßu ri√™ng, b∆°, ti√™u...) gi√∫p ƒëi·ªÅu h√≤a vi kh√≠ h·∫≠u, gi·ªØ ·∫©m ƒë·∫•t, h·∫°n ch·∫ø c·ªè d·∫°i, gi·∫£m x√≥i m√≤n, v√† tƒÉng ƒë·ªô ph√¨ cho ƒë·∫•t (c√¢y h·ªç ƒë·∫≠u c·ªë ƒë·ªãnh ƒë·∫°m). Canh t√°c ƒëa d·∫°ng sinh h·ªçc (xen canh) l√† xu h∆∞·ªõng b·ªÅn v·ªØng, gi·∫£m r·ªßi ro s√¢u b·ªánh v√† tƒÉng thu nh·∫≠p.',
api:dev:   intent: 'knowledge_query',
api:dev:   processingLayer: 'layer_1_exact',
api:dev:   confidence: 1,
api:dev:   responseTime: 135,
api:dev:   exactMatch: {
api:dev:     found: true,
api:dev:     content: '**C√† Ph√™ - 3.2. C√¢y che b√≥ng v√† ƒêa d·∫°ng sinh h·ªçc**\n' +
api:dev:       '*Ch·ªß ƒë·ªÅ: 3. C√°ch chƒÉm s√≥c*\n' +
api:dev:       '\n' +
api:dev:       'C√† ph√™ l√† c√¢y ∆∞a b√≥ng r√¢m (ƒë·∫∑c bi·ªát l√† Arabica). Tr·ªìng c√¢y che b√≥ng (nh∆∞ mu·ªìng ƒëen, s·∫ßu ri√™ng, b∆°, ti√™u...) gi√∫p ƒëi·ªÅu h√≤a vi kh√≠ h·∫≠u, gi·ªØ ·∫©m ƒë·∫•t, h·∫°n ch·∫ø c·ªè d·∫°i, gi·∫£m x√≥i m√≤n, v√† tƒÉng ƒë·ªô ph√¨ cho ƒë·∫•t (c√¢y h·ªç ƒë·∫≠u c·ªë ƒë·ªãnh ƒë·∫°m). Canh t√°c ƒëa d·∫°ng sinh h·ªçc (xen canh) l√† xu h∆∞·ªõng b·ªÅn v·ªØng, gi·∫£m r·ªßi ro s√¢u b·ªánh v√† tƒÉng thu nh·∫≠p.',
api:dev:     source: { documentId: 'ca_phe_009', filename: 'C√† Ph√™.md', chunkIndex: 0 },
api:dev:     confidence: 1,
api:dev:     metadata: {
api:dev:       loai_cay: 'C√† Ph√™',
api:dev:       chu_de_lon: '3. C√°ch chƒÉm s√≥c',
api:dev:       tieu_de_chunk: '3.2. C√¢y che b√≥ng v√† ƒêa d·∫°ng sinh h·ªçc',
api:dev:       rank: 2.6935484,
api:dev:       match_type: 'fts_match',
api:dev:       processingTime: 13
api:dev:     }
api:dev:   },
api:dev:   sources: [ { type: 'document', reference: 'C√† Ph√™.md', confidence: 1 } ]
api:dev: }
3. "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh" -> "B∆∞·ªüi Da Xanh - 1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh

1.1. Ngu·ªìn g·ªëc v√† ƒê·∫∑c ƒëi·ªÉm B∆∞·ªüi Da Xanh (T√™n khoa h·ªçc: Citrus maxima) c√≥ ngu·ªìn g·ªëc t·∫°i x√£ Thanh T√¢n, huy·ªán M·ªè C√†y B·∫Øc, t·ªânh B·∫øn Tre, v√† ƒë√£ ƒë∆∞·ª£c c√¥ng nh·∫≠n l√† gi·ªëng c√¢y ƒÉn qu·∫£ c·∫•p qu·ªëc gia. ƒê√¢y l√† gi·ªëng b∆∞·ªüi qu√Ω, qu·∫£ h√¨nh c·∫ßu, n·∫∑ng trung b√¨nh 1.2 - 2.5kg. V·ªè qu·∫£ khi ch√≠n v·∫´n gi·ªØ m√†u xanh b√≥ng (ƒë√¥i khi h∆°i ng·∫£ v√†ng chanh), m·ªèng, d·ªÖ b√≥c. T√©p b∆∞·ªüi m√†u h·ªìng ƒë·ªè ƒë·∫∑c tr∆∞ng, b√≥ ch·∫∑t, m·ªçng n∆∞·ªõc. Khi ƒÉn c√≥ v·ªã ng·ªçt thanh, kh√¥ng chua g·∫Øt, kh√¥ng v·ªã hƒÉng ƒë·∫Øng, th∆°m d·ªãu. Qu·∫£ kh√¥ng h·∫°t ho·∫∑c r·∫•t √≠t h·∫°t (trung b√¨nh 0-5 h·∫°t/qu·∫£). Th·ªùi gian t·ª´ khi ra hoa ƒë·∫øn khi thu ho·∫°ch kho·∫£ng 7-8 th√°ng.

1.2. Gi√° tr·ªã kinh t·∫ø B∆∞·ªüi Da Xanh l√† lo·∫°i c√¢y ƒÉn qu·∫£ c√≥ gi√° tr·ªã kinh t·∫ø cao, l√† m·∫∑t h√†ng xu·∫•t kh·∫©u ch·ªß l·ª±c (ƒë·∫∑c bi·ªát sang EU, Canada, Trung Qu·ªëc) nh·ªù kh·∫£ nƒÉng ƒë√°p ·ª©ng c√°c ti√™u chu·∫©n kh·∫Øt khe nh∆∞ GlobalG.A.P. ho·∫∑c VietG.A.P. Nhu c·∫ßu th·ªã tr∆∞·ªùng n·ªôi ƒë·ªãa v√† xu·∫•t kh·∫©u lu√¥n ·ªü m·ª©c cao v√† ·ªïn ƒë·ªãnh, mang l·∫°i thu nh·∫≠p t·ªët cho n√¥ng d√¢n. ƒê√¢y l√† c√¢y tr·ªìng x√≥a ƒë√≥i gi·∫£m ngh√®o v√† l√†m gi√†u cho nhi·ªÅu ƒë·ªãa ph∆∞∆°ng, th∆∞·ªùng l√† s·∫£n ph·∫©m OCOP (M·ªói x√£ m·ªôt s·∫£n ph·∫©m) ch·ªß l·ª±c. Qu·∫£ c√≥ th·ªÉ b·∫£o qu·∫£n l√¢u sau thu ho·∫°ch (2-3 tu·∫ßn ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng), thu·∫≠n l·ª£i cho v·∫≠n chuy·ªÉn xa.

1.3. Y√™u c·∫ßu Sinh th√°i (Kh√≠ h·∫≠u & ƒê·∫•t) C√¢y B∆∞·ªüi Da Xanh th√≠ch h·ª£p v·ªõi kh√≠ h·∫≠u nhi·ªát ƒë·ªõi, nhi·ªát ƒë·ªô t·ª´ 23-29¬∞C v√† t·ªïng l∆∞·ª£ng m∆∞a 1.500 - 2.500 mm/nƒÉm. C√¢y c·∫ßn nhi·ªÅu √°nh s√°ng (√≠t nh·∫•t 6 gi·ªù n·∫Øng tr·ª±c ti·∫øp/ng√†y). ƒê·∫•t tr·ªìng ph·∫£i t∆°i x·ªëp, gi√†u m√πn (h√†m l∆∞·ª£ng h·ªØu c∆° > 3%), t·∫ßng canh t√°c d√†y (tr√™n 1m) v√† ƒë·∫∑c bi·ªát ph·∫£i tho√°t n∆∞·ªõc t·ªët (r·∫•t quan tr·ªçng v√¨ c√¢y c·ª±c k·ª≥ nh·∫°y c·∫£m v·ªõi b·ªánh th·ªëi r·ªÖ do n·∫•m). ƒê·ªô pH l√Ω t∆∞·ªüng c·ªßa ƒë·∫•t l√† t·ª´ 5.5 ƒë·∫øn 6.5. C√¢y kh√¥ng ch·ªãu ƒë∆∞·ª£c ng·∫≠p √∫ng (d√π ch·ªâ 2-3 ng√†y) v√† ƒë·∫•t ph√®n, m·∫∑n (ƒë·ªô m·∫∑n trong ƒë·∫•t kh√¥ng qu√° 0.2% hay 2%)."
log:
api:dev: user_prompt:  h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh
api:dev: direct ƒë·∫øn Orchest ƒë·ªÉ x·ª≠ l√Ω
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [AIOrchestrator] Processing query: "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh" for user b5a0dfd6-579c-4a90-833d-f4145e03c292
api:dev: STEP1 trong orchest==========INTENT CLASSIFIER & NER ==================
api:dev: user_query || prompt:  h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh
api:dev: normalize_prompt_text:  h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh
api:dev: post ƒë·∫øn 8000/analyze..........................................
api:dev: INTENT tr·∫£ v·ªÅ t·ª´ 8000/analyze:  knowledge_query
api:dev: entities tr·∫£ v·ªÅ t·ª´ 8000/analyze:  [
api:dev:   {
api:dev:     type: 'crop_name',
api:dev:     value: 'b∆∞·ªüi da xanh',
api:dev:     raw: 'b∆∞·ªüi da xanh',
api:dev:     confidence: 0.85,
api:dev:     start: 63,
api:dev:     end: 75
api:dev:   }
api:dev: ]
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [PythonAIClientService] Python AI Analysis: Intent=knowledge_query, Entities=1, Time=135ms
api:dev: pythonResult:  knowledge_query
api:dev: pythonResult_entities_!!!!!!!!!!!!!:  [
api:dev:   {
api:dev:     type: 'crop_name',
api:dev:     value: 'b∆∞·ªüi da xanh',
api:dev:     raw: 'b∆∞·ªüi da xanh',
api:dev:     confidence: 0.85,
api:dev:     start: 63,
api:dev:     end: 75
api:dev:   }
api:dev: ]
api:dev: !!!D√ôNG PYTHON CHO INENT CLASSIFIER!!!
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [IntentClassifierService] Using Python AI Service (PhoBERT) classification
api:dev: intent_convertToIntentType_aka_intent_tr·∫£_v·ªÅ_step1_orchest:  knowledge_query
api:dev: entities_convertToEntity_aka_entities_tr·∫£_v·ªÅ_step1_orchest:  [
api:dev:   {
api:dev:     type: 'crop_name',
api:dev:     value: 'b∆∞·ªüi da xanh',
api:dev:     raw: 'b∆∞·ªüi da xanh',
api:dev:     confidence: 0.85,
api:dev:     position: { start: 63, end: 75 }
api:dev:   }
api:dev: ]
api:dev: !!!!intent_result_ai_orchestrator!!!!:  {
api:dev:   intent: 'knowledge_query',
api:dev:   confidence: 0.9995633959770203,
api:dev:   entities: [
api:dev:     {
api:dev:       type: 'crop_name',
api:dev:       value: 'b∆∞·ªüi da xanh',
api:dev:       raw: 'b∆∞·ªüi da xanh',
api:dev:       confidence: 0.85,
api:dev:       position: [Object]
api:dev:     }
api:dev:   ],
api:dev:   originalQuery: 'h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh',
api:dev:   normalizedQuery: 'h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh'
api:dev: }
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [AIOrchestrator] Intent: knowledge_query, Confidence: 1.00, Entities: 1
api:dev: user plan:  PREMIUM
api:dev: user status:  ACTIVE
api:dev: isPremiumActive:  true
api:dev: ACCESS CHECK trong orchest:  { allowed: true }
api:dev: STEP2 trong orchest=============== UNKNOWN || CHECK <ACTION || KNOWLEDGE>=============
api:dev: intent_category_|->ACTION || KNOWLEDGE<-|_ai_orchestrator:  knowledge
api:dev: ======================KNOWLEDGE_CATEGORY=======================
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [AIOrchestrator] Attempting Layer 1: Exact Match
api:dev: .............................TRY LAYER1_FTS..................................................
api:dev: ch·∫°y v√†o findExactMatch c·ªßa exact-match-v2.service do orchestrator g·ªçi
api:dev: words:  [
api:dev:   'h√£y',  'cung',  'c·∫•p',
api:dev:   'th√™m', 'th√¥ng', 'tin',
api:dev:   'v·ªÅ',   'c√°ch',  'ph√≤ng',
api:dev:   'v√†',   'tr·ªã',   'b·ªánh',
api:dev:   'lo√©t', 'cho',   'b∆∞·ªüi',
api:dev:   'da',   'xanh'
api:dev: ]
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [QueryPreprocessorService] Query cleaned: "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh" ‚Üí "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh"
api:dev: keywords:  [
api:dev:   'h√£y',  'cung',  'c·∫•p',
api:dev:   'th√™m', 'th√¥ng', 'tin',
api:dev:   'c√°ch', 'ph√≤ng', 'tr·ªã',
api:dev:   'b·ªánh', 'lo√©t',  'b∆∞·ªüi',
api:dev:   'xanh'
api:dev: ]
api:dev: noiseWordCoint:  4
api:dev: hasNoiseWords:  true
api:dev: recommedProcessing:  true
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [QueryPreprocessorService] Query cleaned: "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh" ‚Üí "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh"
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [QueryPreprocessorService] Query cleaned: "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh" ‚Üí "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh"
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [ExactMatchV2Service] !!!! Query preprocessed:
api:dev:   Original: "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh"
api:dev:   Cleaned: "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh"
api:dev:   Keywords: [h√£y, cung, c·∫•p, th√™m, th√¥ng, tin, c√°ch, ph√≤ng, tr·ªã, b·ªánh, lo√©t, b∆∞·ªüi, xanh]
api:dev:   Noise words removed: 4
api:dev: option.useFuzzyFallback:  undefined
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [ExactMatchV2Service] Detected crop filter from NER: "b∆∞·ªüi da xanh"
api:dev: Trying Crop Knowledge FTS...
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] Searching for: "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh"
api:dev: -------------------SEARCH B·∫∞NG HEADING-----------------------
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üîç Heading search - Query: "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh" ‚Üí Normalized: "h√£y cung c·∫•p th√™m th√¥ng tin v·ªÅ c√°ch ph√≤ng v√† tr·ªã b·ªánh lo√©t cho b∆∞·ªüi da xanh"
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üìù Query words (>2 chars): [h√£y, cung, c·∫•p, th√™m, th√¥ng, tin, c√°ch, ph√≤ng, tr·ªã, b·ªánh, lo√©t, cho, b∆∞·ªüi, xanh]
api:dev: ALLCHUNKS L√Ä C√ÅC ROW TRONG crop_knowledge_chunks m√† c√≥ loai_cay = |crop_name - NER|
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üìö Found 22 total chunks to analyze
api:dev: topicKey:  B∆∞·ªüi Da Xanh::1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh" ‚Üí normalized: "1. th√¥ng tin chung v·ªÅ b∆∞·ªüi da xanh" ‚Üí words: [th√¥ng, tin, chung, b∆∞·ªüi, xanh]
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üìä Topic: "1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh" | Score: 80% | Matched: [th√¥ng, tin, b∆∞·ªüi, xanh] / [th√¥ng, tin, chung, b∆∞·ªüi, xanh]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::2. C√°ch tr·ªìng
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "2. C√°ch tr·ªìng" ‚Üí normalized: "2. c√°ch tr·ªìng" ‚Üí words: [c√°ch, tr·ªìng]
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üìä Topic: "2. C√°ch tr·ªìng" | Score: 50% | Matched: [c√°ch] / [c√°ch, tr·ªìng]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::2. C√°ch tr·ªìng
api:dev: topicKey:  B∆∞·ªüi Da Xanh::2. C√°ch tr·ªìng
api:dev: topicKey:  B∆∞·ªüi Da Xanh::2. C√°ch tr·ªìng
api:dev: topicKey:  B∆∞·ªüi Da Xanh::3. C√°ch chƒÉm s√≥c chung
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "3. C√°ch chƒÉm s√≥c chung" ‚Üí normalized: "3. c√°ch chƒÉm s√≥c chung" ‚Üí words: [c√°ch, chƒÉm, s√≥c, chung]
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üìä Topic: "3. C√°ch chƒÉm s√≥c chung" | Score: 25% | Matched: [c√°ch] / [c√°ch, chƒÉm, s√≥c, chung]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::3. C√°ch chƒÉm s√≥c chung
api:dev: topicKey:  B∆∞·ªüi Da Xanh::3. C√°ch chƒÉm s√≥c chung
api:dev: topicKey:  B∆∞·ªüi Da Xanh::4. C√°ch b√≥n ph√¢n
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "4. C√°ch b√≥n ph√¢n" ‚Üí normalized: "4. c√°ch b√≥n ph√¢n" ‚Üí words: [c√°ch, b√≥n, ph√¢n]
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üìä Topic: "4. C√°ch b√≥n ph√¢n" | Score: 33% | Matched: [c√°ch] / [c√°ch, b√≥n, ph√¢n]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::4. C√°ch b√≥n ph√¢n
api:dev: topicKey:  B∆∞·ªüi Da Xanh::4. C√°ch b√≥n ph√¢n
api:dev: topicKey:  B∆∞·ªüi Da Xanh::4. C√°ch b√≥n ph√¢n
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh" ‚Üí normalized: "5. c√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh" ‚Üí words: [c√°ch, ph√≤ng, tr·ª´, s√¢u, h·∫°i, ch√≠nh]
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üìä Topic: "5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh" | Score: 33% | Matched: [c√°ch, ph√≤ng] / [c√°ch, ph√≤ng, tr·ª´, s√¢u, h·∫°i, ch√≠nh]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::5. C√°ch ph√≤ng tr·ª´ s√¢u h·∫°i ch√≠nh
api:dev: topicKey:  B∆∞·ªüi Da Xanh::6. Thu ho·∫°ch v√† B·∫£o qu·∫£n
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "6. Thu ho·∫°ch v√† B·∫£o qu·∫£n" ‚Üí normalized: "6. thu ho·∫°ch v√† b·∫£o qu·∫£n" ‚Üí words: [thu, ho·∫°ch, b·∫£o, qu·∫£n]
api:dev: topicKey:  B∆∞·ªüi Da Xanh::6. Thu ho·∫°ch v√† B·∫£o qu·∫£n
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üîé Analyzing topic: "6. Thu ho·∫°ch v√† B·∫£o qu·∫£n" ‚Üí normalized: "6. thu ho·∫°ch v√† b·∫£o qu·∫£n" ‚Üí words: [thu, ho·∫°ch, b·∫£o, qu·∫£n]
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] ‚úÖ Found main topic match: "1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh" (80% match)
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] üì¶ Returning 3 chunks for topic "1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh"
api:dev: ------------kqua tr·∫£ v·ªÅ c·ªßa searchByHeadings-------------------:  [
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_001',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh',
api:dev:     tieuDeChunk: '1.1. Ngu·ªìn g·ªëc v√† ƒê·∫∑c ƒëi·ªÉm',
api:dev:     noiDung: 'B∆∞·ªüi Da Xanh (T√™n khoa h·ªçc: Citrus maxima) c√≥ ngu·ªìn g·ªëc t·∫°i x√£ Thanh T√¢n, huy·ªán M·ªè C√†y B·∫Øc, t·ªânh B·∫øn Tre, v√† ƒë√£ ƒë∆∞·ª£c c√¥ng nh·∫≠n l√† gi·ªëng c√¢y ƒÉn qu·∫£ c·∫•p qu·ªëc gia. ƒê√¢y l√† gi·ªëng b∆∞·ªüi qu√Ω, qu·∫£ h√¨nh c·∫ßu, n·∫∑ng trung b√¨nh 1.2 - 2.5kg. V·ªè qu·∫£ khi ch√≠n v·∫´n gi·ªØ m√†u xanh b√≥ng (ƒë√¥i khi h∆°i ng·∫£ v√†ng chanh), m·ªèng, d·ªÖ b√≥c. T√©p b∆∞·ªüi m√†u h·ªìng ƒë·ªè ƒë·∫∑c tr∆∞ng, b√≥ ch·∫∑t, m·ªçng n∆∞·ªõc. Khi ƒÉn c√≥ v·ªã ng·ªçt thanh, kh√¥ng chua g·∫Øt, kh√¥ng v·ªã hƒÉng ƒë·∫Øng, th∆°m d·ªãu. Qu·∫£ kh√¥ng h·∫°t ho·∫∑c r·∫•t √≠t h·∫°t (trung b√¨nh 0-5 h·∫°t/qu·∫£). Th·ªùi gian t·ª´ khi ra hoa ƒë·∫øn khi thu ho·∫°ch kho·∫£ng 7-8 th√°ng.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: true,
api:dev:       char_count: 547,
api:dev:       word_count: 117
api:dev:     },
api:dev:     rank: 1
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_002',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh',
api:dev:     tieuDeChunk: '1.2. Gi√° tr·ªã kinh t·∫ø',
api:dev:     noiDung: 'B∆∞·ªüi Da Xanh l√† lo·∫°i c√¢y ƒÉn qu·∫£ c√≥ gi√° tr·ªã kinh t·∫ø cao, l√† m·∫∑t h√†ng xu·∫•t kh·∫©u ch·ªß l·ª±c (ƒë·∫∑c bi·ªát sang EU, Canada, Trung Qu·ªëc) nh·ªù kh·∫£ nƒÉng ƒë√°p ·ª©ng c√°c ti√™u chu·∫©n kh·∫Øt khe nh∆∞ GlobalG.A.P. ho·∫∑c VietG.A.P. Nhu c·∫ßu th·ªã tr∆∞·ªùng n·ªôi ƒë·ªãa v√† xu·∫•t kh·∫©u lu√¥n ·ªü m·ª©c cao v√† ·ªïn ƒë·ªãnh, mang l·∫°i thu nh·∫≠p t·ªët cho n√¥ng d√¢n. ƒê√¢y l√† c√¢y tr·ªìng x√≥a ƒë√≥i gi·∫£m ngh√®o v√† l√†m gi√†u cho nhi·ªÅu ƒë·ªãa ph∆∞∆°ng, th∆∞·ªùng l√† s·∫£n ph·∫©m OCOP (M·ªói x√£ m·ªôt s·∫£n ph·∫©m) ch·ªß l·ª±c. Qu·∫£ c√≥ th·ªÉ b·∫£o qu·∫£n l√¢u sau thu ho·∫°ch (2-3 tu·∫ßn ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng), thu·∫≠n l·ª£i cho v·∫≠n chuy·ªÉn xa.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: false,
api:dev:       char_count: 527,
api:dev:       word_count: 114
api:dev:     },
api:dev:     rank: 1
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_003',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh',
api:dev:     tieuDeChunk: '1.3. Y√™u c·∫ßu Sinh th√°i (Kh√≠ h·∫≠u & ƒê·∫•t)',
api:dev:     noiDung: 'C√¢y B∆∞·ªüi Da Xanh th√≠ch h·ª£p v·ªõi kh√≠ h·∫≠u nhi·ªát ƒë·ªõi, nhi·ªát ƒë·ªô t·ª´ 23-29¬∞C v√† t·ªïng l∆∞·ª£ng m∆∞a 1.500 - 2.500 mm/nƒÉm. C√¢y c·∫ßn nhi·ªÅu √°nh s√°ng (√≠t nh·∫•t 6 gi·ªù n·∫Øng tr·ª±c ti·∫øp/ng√†y). ƒê·∫•t tr·ªìng ph·∫£i t∆°i x·ªëp, gi√†u m√πn (h√†m l∆∞·ª£ng h·ªØu c∆° > 3%), t·∫ßng canh t√°c d√†y (tr√™n 1m) v√† ƒë·∫∑c bi·ªát ph·∫£i tho√°t n∆∞·ªõc t·ªët (r·∫•t quan tr·ªçng v√¨ c√¢y c·ª±c k·ª≥ nh·∫°y c·∫£m v·ªõi b·ªánh th·ªëi r·ªÖ do n·∫•m). ƒê·ªô pH l√Ω t∆∞·ªüng c·ªßa ƒë·∫•t l√† t·ª´ 5.5 ƒë·∫øn 6.5. C√¢y kh√¥ng ch·ªãu ƒë∆∞·ª£c ng·∫≠p √∫ng (d√π ch·ªâ 2-3 ng√†y) v√† ƒë·∫•t ph√®n, m·∫∑n (ƒë·ªô m·∫∑n trong ƒë·∫•t kh√¥ng qu√° 0.2% hay 2%).',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: true,
api:dev:       char_count: 500,
api:dev:       word_count: 110
api:dev:     },
api:dev:     rank: 1
api:dev:   }
api:dev: ]
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [CropKnowledgeFTSService] Layer 1 heading match found in 9ms
api:dev: result:  [
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_001',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh',
api:dev:     tieuDeChunk: '1.1. Ngu·ªìn g·ªëc v√† ƒê·∫∑c ƒëi·ªÉm',
api:dev:     noiDung: 'B∆∞·ªüi Da Xanh (T√™n khoa h·ªçc: Citrus maxima) c√≥ ngu·ªìn g·ªëc t·∫°i x√£ Thanh T√¢n, huy·ªán M·ªè C√†y B·∫Øc, t·ªânh B·∫øn Tre, v√† ƒë√£ ƒë∆∞·ª£c c√¥ng nh·∫≠n l√† gi·ªëng c√¢y ƒÉn qu·∫£ c·∫•p qu·ªëc gia. ƒê√¢y l√† gi·ªëng b∆∞·ªüi qu√Ω, qu·∫£ h√¨nh c·∫ßu, n·∫∑ng trung b√¨nh 1.2 - 2.5kg. V·ªè qu·∫£ khi ch√≠n v·∫´n gi·ªØ m√†u xanh b√≥ng (ƒë√¥i khi h∆°i ng·∫£ v√†ng chanh), m·ªèng, d·ªÖ b√≥c. T√©p b∆∞·ªüi m√†u h·ªìng ƒë·ªè ƒë·∫∑c tr∆∞ng, b√≥ ch·∫∑t, m·ªçng n∆∞·ªõc. Khi ƒÉn c√≥ v·ªã ng·ªçt thanh, kh√¥ng chua g·∫Øt, kh√¥ng v·ªã hƒÉng ƒë·∫Øng, th∆°m d·ªãu. Qu·∫£ kh√¥ng h·∫°t ho·∫∑c r·∫•t √≠t h·∫°t (trung b√¨nh 0-5 h·∫°t/qu·∫£). Th·ªùi gian t·ª´ khi ra hoa ƒë·∫øn khi thu ho·∫°ch kho·∫£ng 7-8 th√°ng.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: true,
api:dev:       char_count: 547,
api:dev:       word_count: 117
web:dev:  POST /api/chat/messages 200 in 246ms
api:dev:     },
api:dev:     rank: 1
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_002',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh',
api:dev:     tieuDeChunk: '1.2. Gi√° tr·ªã kinh t·∫ø',
api:dev:     noiDung: 'B∆∞·ªüi Da Xanh l√† lo·∫°i c√¢y ƒÉn qu·∫£ c√≥ gi√° tr·ªã kinh t·∫ø cao, l√† m·∫∑t h√†ng xu·∫•t kh·∫©u ch·ªß l·ª±c (ƒë·∫∑c bi·ªát sang EU, Canada, Trung Qu·ªëc) nh·ªù kh·∫£ nƒÉng ƒë√°p ·ª©ng c√°c ti√™u chu·∫©n kh·∫Øt khe nh∆∞ GlobalG.A.P. ho·∫∑c VietG.A.P. Nhu c·∫ßu th·ªã tr∆∞·ªùng n·ªôi ƒë·ªãa v√† xu·∫•t kh·∫©u lu√¥n ·ªü m·ª©c cao v√† ·ªïn ƒë·ªãnh, mang l·∫°i thu nh·∫≠p t·ªët cho n√¥ng d√¢n. ƒê√¢y l√† c√¢y tr·ªìng x√≥a ƒë√≥i gi·∫£m ngh√®o v√† l√†m gi√†u cho nhi·ªÅu ƒë·ªãa ph∆∞∆°ng, th∆∞·ªùng l√† s·∫£n ph·∫©m OCOP (M·ªói x√£ m·ªôt s·∫£n ph·∫©m) ch·ªß l·ª±c. Qu·∫£ c√≥ th·ªÉ b·∫£o qu·∫£n l√¢u sau thu ho·∫°ch (2-3 tu·∫ßn ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng), thu·∫≠n l·ª£i cho v·∫≠n chuy·ªÉn xa.',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: false,
api:dev:       char_count: 527,
api:dev:       word_count: 114
api:dev:     },
api:dev:     rank: 1
api:dev:   },
api:dev:   {
api:dev:     chunkId: 'buoi_da_xanh_003',
api:dev:     loaiCay: 'B∆∞·ªüi Da Xanh',
api:dev:     chuDeLon: '1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh',
api:dev:     tieuDeChunk: '1.3. Y√™u c·∫ßu Sinh th√°i (Kh√≠ h·∫≠u & ƒê·∫•t)',
api:dev:     noiDung: 'C√¢y B∆∞·ªüi Da Xanh th√≠ch h·ª£p v·ªõi kh√≠ h·∫≠u nhi·ªát ƒë·ªõi, nhi·ªát ƒë·ªô t·ª´ 23-29¬∞C v√† t·ªïng l∆∞·ª£ng m∆∞a 1.500 - 2.500 mm/nƒÉm. C√¢y c·∫ßn nhi·ªÅu √°nh s√°ng (√≠t nh·∫•t 6 gi·ªù n·∫Øng tr·ª±c ti·∫øp/ng√†y). ƒê·∫•t tr·ªìng ph·∫£i t∆°i x·ªëp, gi√†u m√πn (h√†m l∆∞·ª£ng h·ªØu c∆° > 3%), t·∫ßng canh t√°c d√†y (tr√™n 1m) v√† ƒë·∫∑c bi·ªát ph·∫£i tho√°t n∆∞·ªõc t·ªët (r·∫•t quan tr·ªçng v√¨ c√¢y c·ª±c k·ª≥ nh·∫°y c·∫£m v·ªõi b·ªánh th·ªëi r·ªÖ do n·∫•m). ƒê·ªô pH l√Ω t∆∞·ªüng c·ªßa ƒë·∫•t l√† t·ª´ 5.5 ƒë·∫øn 6.5. C√¢y kh√¥ng ch·ªãu ƒë∆∞·ª£c ng·∫≠p √∫ng (d√π ch·ªâ 2-3 ng√†y) v√† ƒë·∫•t ph√®n, m·∫∑n (ƒë·ªô m·∫∑n trong ƒë·∫•t kh√¥ng qu√° 0.2% hay 2%).',
api:dev:     metadata: {
api:dev:       has_bold: false,
api:dev:       has_list: true,
api:dev:       char_count: 500,
api:dev:       word_count: 110
api:dev:     },
api:dev:     rank: 1
api:dev:   }
api:dev: ]
api:dev: result.length:  3
api:dev: parts:  [ '**B∆∞·ªüi Da Xanh - 1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh**\n\n' ]
api:dev: cropResult.found:  true
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM   DEBUG [ExactMatchV2Service] üîç Search completed via crop_fts in 11ms - Found: true, Confidence: 1.000
api:dev: _orchestrator_ exactResult_layer1_FTS:  {
api:dev:   found: true,
api:dev:   content: '**B∆∞·ªüi Da Xanh - 1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh**\n' +
api:dev:     '\n' +
api:dev:     '**1.1. Ngu·ªìn g·ªëc v√† ƒê·∫∑c ƒëi·ªÉm**\n' +
api:dev:     'B∆∞·ªüi Da Xanh (T√™n khoa h·ªçc: Citrus maxima) c√≥ ngu·ªìn g·ªëc t·∫°i x√£ Thanh T√¢n, huy·ªán M·ªè C√†y B·∫Øc, t·ªânh B·∫øn Tre, v√† ƒë√£ ƒë∆∞·ª£c c√¥ng nh·∫≠n l√† gi·ªëng c√¢y ƒÉn qu·∫£ c·∫•p qu·ªëc gia. ƒê√¢y l√† gi·ªëng b∆∞·ªüi qu√Ω, qu·∫£ h√¨nh c·∫ßu, n·∫∑ng trung b√¨nh 1.2 - 2.5kg. V·ªè qu·∫£ khi ch√≠n v·∫´n gi·ªØ m√†u xanh b√≥ng (ƒë√¥i khi h∆°i ng·∫£ v√†ng chanh), m·ªèng, d·ªÖ b√≥c. T√©p b∆∞·ªüi m√†u h·ªìng ƒë·ªè ƒë·∫∑c tr∆∞ng, b√≥ ch·∫∑t, m·ªçng n∆∞·ªõc. Khi ƒÉn c√≥ v·ªã ng·ªçt thanh, kh√¥ng chua g·∫Øt, kh√¥ng v·ªã hƒÉng ƒë·∫Øng, th∆°m d·ªãu. Qu·∫£ kh√¥ng h·∫°t ho·∫∑c r·∫•t √≠t h·∫°t (trung b√¨nh 0-5 h·∫°t/qu·∫£). Th·ªùi gian t·ª´ khi ra hoa ƒë·∫øn khi thu ho·∫°ch kho·∫£ng 7-8 th√°ng.\n' +
api:dev:     '\n' +
api:dev:     '**1.2. Gi√° tr·ªã kinh t·∫ø**\n' +
api:dev:     'B∆∞·ªüi Da Xanh l√† lo·∫°i c√¢y ƒÉn qu·∫£ c√≥ gi√° tr·ªã kinh t·∫ø cao, l√† m·∫∑t h√†ng xu·∫•t kh·∫©u ch·ªß l·ª±c (ƒë·∫∑c bi·ªát sang EU, Canada, Trung Qu·ªëc) nh·ªù kh·∫£ nƒÉng ƒë√°p ·ª©ng c√°c ti√™u chu·∫©n kh·∫Øt khe nh∆∞ GlobalG.A.P. ho·∫∑c VietG.A.P. Nhu c·∫ßu th·ªã tr∆∞·ªùng n·ªôi ƒë·ªãa v√† xu·∫•t kh·∫©u lu√¥n ·ªü m·ª©c cao v√† ·ªïn ƒë·ªãnh, mang l·∫°i thu nh·∫≠p t·ªët cho n√¥ng d√¢n. ƒê√¢y l√† c√¢y tr·ªìng x√≥a ƒë√≥i gi·∫£m ngh√®o v√† l√†m gi√†u cho nhi·ªÅu ƒë·ªãa ph∆∞∆°ng, th∆∞·ªùng l√† s·∫£n ph·∫©m OCOP (M·ªói x√£ m·ªôt s·∫£n ph·∫©m) ch·ªß l·ª±c. Qu·∫£ c√≥ th·ªÉ b·∫£o qu·∫£n l√¢u sau thu ho·∫°ch (2-3 tu·∫ßn ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng), thu·∫≠n l·ª£i cho v·∫≠n chuy·ªÉn xa.\n' +
api:dev:     '\n' +
api:dev:     '**1.3. Y√™u c·∫ßu Sinh th√°i (Kh√≠ h·∫≠u & ƒê·∫•t)**\n' +
api:dev:     'C√¢y B∆∞·ªüi Da Xanh th√≠ch h·ª£p v·ªõi kh√≠ h·∫≠u nhi·ªát ƒë·ªõi, nhi·ªát ƒë·ªô t·ª´ 23-29¬∞C v√† t·ªïng l∆∞·ª£ng m∆∞a 1.500 - 2.500 mm/nƒÉm. C√¢y c·∫ßn nhi·ªÅu √°nh s√°ng (√≠t nh·∫•t 6 gi·ªù n·∫Øng tr·ª±c ti·∫øp/ng√†y). ƒê·∫•t tr·ªìng ph·∫£i t∆°i x·ªëp, gi√†u m√πn (h√†m l∆∞·ª£ng h·ªØu c∆° > 3%), t·∫ßng canh t√°c d√†y (tr√™n 1m) v√† ƒë·∫∑c bi·ªát ph·∫£i tho√°t n∆∞·ªõc t·ªët (r·∫•t quan tr·ªçng v√¨ c√¢y c·ª±c k·ª≥ nh·∫°y c·∫£m v·ªõi b·ªánh th·ªëi r·ªÖ do n·∫•m). ƒê·ªô pH l√Ω t∆∞·ªüng c·ªßa ƒë·∫•t l√† t·ª´ 5.5 ƒë·∫øn 6.5. C√¢y kh√¥ng ch·ªãu ƒë∆∞·ª£c ng·∫≠p √∫ng (d√π ch·ªâ 2-3 ng√†y) v√† ƒë·∫•t ph√®n, m·∫∑n (ƒë·ªô m·∫∑n trong ƒë·∫•t kh√¥ng qu√° 0.2% hay 2%).\n' +
api:dev:     '\n',
api:dev:   source: {
api:dev:     documentId: 'buoi_da_xanh_001',
api:dev:     filename: 'B∆∞·ªüi Da Xanh.md',
api:dev:     chunkIndex: 0
api:dev:   },
api:dev:   confidence: 1,
api:dev:   metadata: {
api:dev:     loai_cay: 'B∆∞·ªüi Da Xanh',
api:dev:     chu_de_lon: '1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh',
api:dev:     tieu_de_chunk: '1.1. Ngu·ªìn g·ªëc v√† ƒê·∫∑c ƒëi·ªÉm',
api:dev:     match_type: 'heading_match',
api:dev:     matched_chunks: 3,
api:dev:     processingTime: 9
api:dev:   }
api:dev: }
api:dev: exactResult.confidence:  1
api:dev: [Nest] 17700  - 12/14/2025, 11:03:31 PM     LOG [AIOrchestrator] ‚úì Layer 1 (Exact Match) succeeded
api:dev: PROCESSING LAYER1
api:dev: ai_response:  {
api:dev:   success: true,
api:dev:   message: '**B∆∞·ªüi Da Xanh - 1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh**\n' +
api:dev:     '\n' +
api:dev:     '**1.1. Ngu·ªìn g·ªëc v√† ƒê·∫∑c ƒëi·ªÉm**\n' +
api:dev:     'B∆∞·ªüi Da Xanh (T√™n khoa h·ªçc: Citrus maxima) c√≥ ngu·ªìn g·ªëc t·∫°i x√£ Thanh T√¢n, huy·ªán M·ªè C√†y B·∫Øc, t·ªânh B·∫øn Tre, v√† ƒë√£ ƒë∆∞·ª£c c√¥ng nh·∫≠n l√† gi·ªëng c√¢y ƒÉn qu·∫£ c·∫•p qu·ªëc gia. ƒê√¢y l√† gi·ªëng b∆∞·ªüi qu√Ω, qu·∫£ h√¨nh c·∫ßu, n·∫∑ng trung b√¨nh 1.2 - 2.5kg. V·ªè qu·∫£ khi ch√≠n v·∫´n gi·ªØ m√†u xanh b√≥ng (ƒë√¥i khi h∆°i ng·∫£ v√†ng chanh), m·ªèng, d·ªÖ b√≥c. T√©p b∆∞·ªüi m√†u h·ªìng ƒë·ªè ƒë·∫∑c tr∆∞ng, b√≥ ch·∫∑t, m·ªçng n∆∞·ªõc. Khi ƒÉn c√≥ v·ªã ng·ªçt thanh, kh√¥ng chua g·∫Øt, kh√¥ng v·ªã hƒÉng ƒë·∫Øng, th∆°m d·ªãu. Qu·∫£ kh√¥ng h·∫°t ho·∫∑c r·∫•t √≠t h·∫°t (trung b√¨nh 0-5 h·∫°t/qu·∫£). Th·ªùi gian t·ª´ khi ra hoa ƒë·∫øn khi thu ho·∫°ch kho·∫£ng 7-8 th√°ng.\n' +
api:dev:     '\n' +
api:dev:     '**1.2. Gi√° tr·ªã kinh t·∫ø**\n' +
api:dev:     'B∆∞·ªüi Da Xanh l√† lo·∫°i c√¢y ƒÉn qu·∫£ c√≥ gi√° tr·ªã kinh t·∫ø cao, l√† m·∫∑t h√†ng xu·∫•t kh·∫©u ch·ªß l·ª±c (ƒë·∫∑c bi·ªát sang EU, Canada, Trung Qu·ªëc) nh·ªù kh·∫£ nƒÉng ƒë√°p ·ª©ng c√°c ti√™u chu·∫©n kh·∫Øt khe nh∆∞ GlobalG.A.P. ho·∫∑c VietG.A.P. Nhu c·∫ßu th·ªã tr∆∞·ªùng n·ªôi ƒë·ªãa v√† xu·∫•t kh·∫©u lu√¥n ·ªü m·ª©c cao v√† ·ªïn ƒë·ªãnh, mang l·∫°i thu nh·∫≠p t·ªët cho n√¥ng d√¢n. ƒê√¢y l√† c√¢y tr·ªìng x√≥a ƒë√≥i gi·∫£m ngh√®o v√† l√†m gi√†u cho nhi·ªÅu ƒë·ªãa ph∆∞∆°ng, th∆∞·ªùng l√† s·∫£n ph·∫©m OCOP (M·ªói x√£ m·ªôt s·∫£n ph·∫©m) ch·ªß l·ª±c. Qu·∫£ c√≥ th·ªÉ b·∫£o qu·∫£n l√¢u sau thu ho·∫°ch (2-3 tu·∫ßn ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng), thu·∫≠n l·ª£i cho v·∫≠n chuy·ªÉn xa.\n' +
api:dev:     '\n' +
api:dev:     '**1.3. Y√™u c·∫ßu Sinh th√°i (Kh√≠ h·∫≠u & ƒê·∫•t)**\n' +
api:dev:     'C√¢y B∆∞·ªüi Da Xanh th√≠ch h·ª£p v·ªõi kh√≠ h·∫≠u nhi·ªát ƒë·ªõi, nhi·ªát ƒë·ªô t·ª´ 23-29¬∞C v√† t·ªïng l∆∞·ª£ng m∆∞a 1.500 - 2.500 mm/nƒÉm. C√¢y c·∫ßn nhi·ªÅu √°nh s√°ng (√≠t nh·∫•t 6 gi·ªù n·∫Øng tr·ª±c ti·∫øp/ng√†y). ƒê·∫•t tr·ªìng ph·∫£i t∆°i x·ªëp, gi√†u m√πn (h√†m l∆∞·ª£ng h·ªØu c∆° > 3%), t·∫ßng canh t√°c d√†y (tr√™n 1m) v√† ƒë·∫∑c bi·ªát ph·∫£i tho√°t n∆∞·ªõc t·ªët (r·∫•t quan tr·ªçng v√¨ c√¢y c·ª±c k·ª≥ nh·∫°y c·∫£m v·ªõi b·ªánh th·ªëi r·ªÖ do n·∫•m). ƒê·ªô pH l√Ω t∆∞·ªüng c·ªßa ƒë·∫•t l√† t·ª´ 5.5 ƒë·∫øn 6.5. C√¢y kh√¥ng ch·ªãu ƒë∆∞·ª£c ng·∫≠p √∫ng (d√π ch·ªâ 2-3 ng√†y) v√† ƒë·∫•t ph√®n, m·∫∑n (ƒë·ªô m·∫∑n trong ƒë·∫•t kh√¥ng qu√° 0.2% hay 2%).\n' +
api:dev:     '\n',
api:dev:   intent: 'knowledge_query',
api:dev:   processingLayer: 'layer_1_exact',
api:dev:   confidence: 1,
api:dev:   responseTime: 158,
api:dev:   exactMatch: {
api:dev:     found: true,
api:dev:     content: '**B∆∞·ªüi Da Xanh - 1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh**\n' +
api:dev:       '\n' +
api:dev:       '**1.1. Ngu·ªìn g·ªëc v√† ƒê·∫∑c ƒëi·ªÉm**\n' +
api:dev:       'B∆∞·ªüi Da Xanh (T√™n khoa h·ªçc: Citrus maxima) c√≥ ngu·ªìn g·ªëc t·∫°i x√£ Thanh T√¢n, huy·ªán M·ªè C√†y B·∫Øc, t·ªânh B·∫øn Tre, v√† ƒë√£ ƒë∆∞·ª£c c√¥ng nh·∫≠n l√† gi·ªëng c√¢y ƒÉn qu·∫£ c·∫•p qu·ªëc gia. ƒê√¢y l√† gi·ªëng b∆∞·ªüi qu√Ω, qu·∫£ h√¨nh c·∫ßu, n·∫∑ng trung b√¨nh 1.2 - 2.5kg. V·ªè qu·∫£ khi ch√≠n v·∫´n gi·ªØ m√†u xanh b√≥ng (ƒë√¥i khi h∆°i ng·∫£ v√†ng chanh), m·ªèng, d·ªÖ b√≥c. T√©p b∆∞·ªüi m√†u h·ªìng ƒë·ªè ƒë·∫∑c tr∆∞ng, b√≥ ch·∫∑t, m·ªçng n∆∞·ªõc. Khi ƒÉn c√≥ v·ªã ng·ªçt thanh, kh√¥ng chua g·∫Øt, kh√¥ng v·ªã hƒÉng ƒë·∫Øng, th∆°m d·ªãu. Qu·∫£ kh√¥ng h·∫°t ho·∫∑c r·∫•t √≠t h·∫°t (trung b√¨nh 0-5 h·∫°t/qu·∫£). Th·ªùi gian t·ª´ khi ra hoa ƒë·∫øn khi thu ho·∫°ch kho·∫£ng 7-8 th√°ng.\n' +
api:dev:       '\n' +
api:dev:       '**1.2. Gi√° tr·ªã kinh t·∫ø**\n' +
api:dev:       'B∆∞·ªüi Da Xanh l√† lo·∫°i c√¢y ƒÉn qu·∫£ c√≥ gi√° tr·ªã kinh t·∫ø cao, l√† m·∫∑t h√†ng xu·∫•t kh·∫©u ch·ªß l·ª±c (ƒë·∫∑c bi·ªát sang EU, Canada, Trung Qu·ªëc) nh·ªù kh·∫£ nƒÉng ƒë√°p ·ª©ng c√°c ti√™u chu·∫©n kh·∫Øt khe nh∆∞ GlobalG.A.P. ho·∫∑c VietG.A.P. Nhu c·∫ßu th·ªã tr∆∞·ªùng n·ªôi ƒë·ªãa v√† xu·∫•t kh·∫©u lu√¥n ·ªü m·ª©c cao v√† ·ªïn ƒë·ªãnh, mang l·∫°i thu nh·∫≠p t·ªët cho n√¥ng d√¢n. ƒê√¢y l√† c√¢y tr·ªìng x√≥a ƒë√≥i gi·∫£m ngh√®o v√† l√†m gi√†u cho nhi·ªÅu ƒë·ªãa ph∆∞∆°ng, th∆∞·ªùng l√† s·∫£n ph·∫©m OCOP (M·ªói x√£ m·ªôt s·∫£n ph·∫©m) ch·ªß l·ª±c. Qu·∫£ c√≥ th·ªÉ b·∫£o qu·∫£n l√¢u sau thu ho·∫°ch (2-3 tu·∫ßn ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng), thu·∫≠n l·ª£i cho v·∫≠n chuy·ªÉn xa.\n' +
api:dev:       '\n' +
api:dev:       '**1.3. Y√™u c·∫ßu Sinh th√°i (Kh√≠ h·∫≠u & ƒê·∫•t)**\n' +
api:dev:       'C√¢y B∆∞·ªüi Da Xanh th√≠ch h·ª£p v·ªõi kh√≠ h·∫≠u nhi·ªát ƒë·ªõi, nhi·ªát ƒë·ªô t·ª´ 23-29¬∞C v√† t·ªïng l∆∞·ª£ng m∆∞a 1.500 - 2.500 mm/nƒÉm. C√¢y c·∫ßn nhi·ªÅu √°nh s√°ng (√≠t nh·∫•t 6 gi·ªù n·∫Øng tr·ª±c ti·∫øp/ng√†y). ƒê·∫•t tr·ªìng ph·∫£i t∆°i x·ªëp, gi√†u m√πn (h√†m l∆∞·ª£ng h·ªØu c∆° > 3%), t·∫ßng canh t√°c d√†y (tr√™n 1m) v√† ƒë·∫∑c bi·ªát ph·∫£i tho√°t n∆∞·ªõc t·ªët (r·∫•t quan tr·ªçng v√¨ c√¢y c·ª±c k·ª≥ nh·∫°y c·∫£m v·ªõi b·ªánh th·ªëi r·ªÖ do n·∫•m). ƒê·ªô pH l√Ω t∆∞·ªüng c·ªßa ƒë·∫•t l√† t·ª´ 5.5 ƒë·∫øn 6.5. C√¢y kh√¥ng ch·ªãu ƒë∆∞·ª£c ng·∫≠p √∫ng (d√π ch·ªâ 2-3 ng√†y) v√† ƒë·∫•t ph√®n, m·∫∑n (ƒë·ªô m·∫∑n trong ƒë·∫•t kh√¥ng qu√° 0.2% hay 2%).\n' +
api:dev:       '\n',
api:dev:     source: {
api:dev:       documentId: 'buoi_da_xanh_001',
api:dev:       filename: 'B∆∞·ªüi Da Xanh.md',
api:dev:       chunkIndex: 0
api:dev:     },
api:dev:     confidence: 1,
api:dev:     metadata: {
api:dev:       loai_cay: 'B∆∞·ªüi Da Xanh',
api:dev:       chu_de_lon: '1. Th√¥ng tin chung v·ªÅ B∆∞·ªüi Da Xanh',
api:dev:       tieu_de_chunk: '1.1. Ngu·ªìn g·ªëc v√† ƒê·∫∑c ƒëi·ªÉm',
api:dev:       match_type: 'heading_match',
api:dev:       matched_chunks: 3,
api:dev:       processingTime: 9
api:dev:     }
api:dev:   },
api:dev:   sources: [ { type: 'document', reference: 'B∆∞·ªüi Da Xanh.md', confidence: 1 } ]
api:dev: }
